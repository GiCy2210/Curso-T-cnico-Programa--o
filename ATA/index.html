<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Igreja Adventista - ATA Digital</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* TODOS OS ESTILOS DOS DOIS CÃ“DIGOS AQUI */
        :root {
            --primary: #2c5aa0;
            --primary-dark: #1e3d72;
            --secondary: #8b0000;
            --light: #f8f9fa;
            --dark: #343a40;
            --gray: #6c757d;
            --success: #28a745;
            --border: #dee2e6;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: var(--dark);
            line-height: 1.6;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            padding: 1.5rem;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            position: relative;
        }
        
        .logo-container {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 1rem;
            margin-bottom: 1rem;
        }
        
        .logo {
            font-size: 2.5rem;
            color: white;
        }
        
        h1 {
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
        }
        
        .container {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 1.5rem;
        }
        
        .card {
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            padding: 1.5rem;
            margin-bottom: 2rem;
        }
        
        /* Estilos da tela inicial */
        .intro-section {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .intro-section h2 {
            color: var(--primary);
            margin-bottom: 1rem;
        }
        
        .intro-section p {
            max-width: 800px;
            margin: 0 auto 1.5rem;
            font-size: 1.1rem;
        }
        
        .doctrines-section {
            margin-bottom: 2rem;
        }
        
        .doctrines-section h2 {
            color: var(--primary);
            text-align: center;
            margin-bottom: 1.5rem;
        }
        
        .doctrines-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }
        
        .doctrine-card {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 1.5rem;
            border-left: 4px solid var(--primary);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        
        .doctrine-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }
        
        .doctrine-card h3 {
            color: var(--primary-dark);
            margin-bottom: 0.75rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .doctrine-card h3 i {
            color: var(--secondary);
        }
        
        .commissions-section {
            margin-bottom: 2rem;
        }
        
        .commissions-section h2 {
            color: var(--primary);
            text-align: center;
            margin-bottom: 1.5rem;
        }
        
        .commissions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
        }
        
        .commission-card {
            background: white;
            border-radius: 8px;
            padding: 1.5rem;
            text-align: center;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .commission-card:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-5px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }
        
        .commission-card:hover h3,
        .commission-card:hover .commission-icon {
            color: white;
        }
        
        .commission-icon {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }
        
        .commission-card h3 {
            color: var(--primary-dark);
            margin-bottom: 0.5rem;
        }
        
        /* Estilos do sistema de ATAs */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--border);
            margin-bottom: 1.5rem;
        }
        
        .tab {
            padding: 0.75rem 1.5rem;
            background: none;
            border: none;
            cursor: pointer;
            font-weight: 600;
            color: var(--gray);
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }
        
        .tab.active {
            color: var(--primary);
            border-bottom: 3px solid var(--primary);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        h2 {
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: var(--primary);
        }
        
        h3 {
            font-size: 1.25rem;
            margin: 1.5rem 0 1rem;
            color: var(--primary-dark);
            border-bottom: 1px solid var(--border);
            padding-bottom: 0.5rem;
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }
        
        input, select, textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 4px;
            font-size: 1rem;
        }
        
        textarea {
            min-height: 120px;
            resize: vertical;
        }
        
        .form-row {
            display: flex;
            gap: 1rem;
        }
        
        .form-row .form-group {
            flex: 1;
        }
        
        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
        }
        
        .btn-primary {
            background-color: var(--primary);
            color: white;
        }
        
        .btn-primary:hover {
            background-color: var(--primary-dark);
        }
        
        .btn-secondary {
            background-color: #e9ecef;
            color: var(--dark);
        }
        
        .btn-secondary:hover {
            background-color: #dee2e6;
        }
        
        .btn-success {
            background-color: var(--success);
            color: white;
        }
        
        .btn-success:hover {
            background-color: #218838;
        }
        
        .actions {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-top: 2rem;
        }
        
        .system-actions {
            justify-content: flex-end;
        }
        
        .members-list {
            margin-top: 1rem;
        }
        
        .member-item {
            display: flex;
            align-items: center;
            gap: 1rem;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 4px;
            margin-bottom: 0.75rem;
        }
        
        .member-actions {
            margin-left: auto;
            display: flex;
            gap: 0.5rem;
        }
        
        .history-list {
            list-style: none;
        }
        
        .history-item {
            padding: 1rem;
            border: 1px solid var(--border);
            border-radius: 4px;
            margin-bottom: 1rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .history-info {
            flex: 1;
        }
        
        .history-title {
            font-weight: 600;
            margin-bottom: 0.25rem;
        }
        
        .history-details {
            color: var(--gray);
            font-size: 0.9rem;
        }
        
        .history-actions {
            display: flex;
            gap: 0.5rem;
        }
        
        .empty-state {
            text-align: center;
            padding: 2rem;
            color: var(--gray);
        }
        
        .empty-state i {
            font-size: 3rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }
        
        footer {
            text-align: center;
            padding: 2rem;
            color: var(--gray);
            font-size: 0.9rem;
            border-top: 1px solid var(--border);
            margin-top: 2rem;
        }
        
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
                gap: 0;
            }
            
            .actions {
                flex-direction: column;
            }
            
            .system-actions {
                flex-direction: column;
            }
            
            .history-item {
                flex-direction: column;
                align-items: flex-start;
                gap: 1rem;
            }
            
            .history-actions {
                align-self: flex-end;
            }
            
            .doctrines-grid,
            .commissions-grid {
                grid-template-columns: 1fr;
            }
        }
        
        .preview-container {
            background: #f8f9fa;
            border: 1px solid var(--border);
            border-radius: 4px;
            padding: 1.5rem;
            margin-top: 1.5rem;
            max-height: 400px;
            overflow-y: auto;
        }
        
        .ata-preview {
            background: white;
            padding: 2rem;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            font-family: 'Times New Roman', serif;
            line-height: 1.8;
        }
        
        .ata-header {
            text-align: center;
            margin-bottom: 2rem;
        }
        
        .ata-title {
            font-size: 1.5rem;
            font-weight: bold;
            margin-bottom: 1rem;
        }
        
        .ata-subtitle {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }
        
        .ata-body {
            margin-bottom: 2rem;
        }
        
        .ata-signatures {
            display: flex;
            justify-content: space-between;
            margin-top: 3rem;
        }
        
        .signature-line {
            border-top: 1px solid #000;
            width: 200px;
            text-align: center;
            padding-top: 0.5rem;
        }
        
        /* NavegaÃ§Ã£o entre telas */
        .screen {
            display: none;
        }
        
        .screen.active {
            display: block;
        }
        
        .back-button {
            background: none;
            border: none;
            color: var(--primary);
            cursor: pointer;
            font-size: 1rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            margin-bottom: 1rem;
            padding: 0.5rem 0;
        }
        
        .back-button:hover {
            color: var(--primary-dark);
        }
    </style>
</head>
<body>
    <header>
        <div class="logo-container">
            <i class="fas fa-church logo"></i>
            <div>
                <h1>Igreja Adventista do SÃ©timo Dia</h1>
                <p class="subtitle" id="subtitle">ATA Digital - Sistema de Registro de Atas</p>
            </div>
        </div>
    </header>
    
    <!-- TELA INICIAL -->
    <div class="container screen active" id="home-screen">
        <div class="card">
            <div class="intro-section">
                <h2>Bem-vindo ao Sistema ATA Digital</h2>
                <p>A Igreja Adventista do SÃ©timo Dia Ã© uma comunidade cristÃ£ protestante que se destaca por sua Ãªnfase na observÃ¢ncia do sÃ¡bado como dia de descanso e adoraÃ§Ã£o, na iminente segunda vinda de Jesus Cristo e na adoÃ§Ã£o de um estilo de vida saudÃ¡vel.</p>
                <p>Fundada em 1863, a denominaÃ§Ã£o cresceu para se tornar uma organizaÃ§Ã£o religiosa global com milhÃµes de membros em todo o mundo, mantendo uma forte Ãªnfase missionÃ¡ria e educacional.</p>
            </div>
            
            <div class="doctrines-section">
                <h2>Doutrinas Principais</h2>
                <div class="doctrines-grid">
                    <div class="doctrine-card">
                        <h3><i class="fas fa-bible"></i> A BÃ­blia como Regra de FÃ©</h3>
                        <p>Cremos que a BÃ­blia Ã© a Palavra de Deus, a revelaÃ§Ã£o de Sua vontade para a humanidade e o padrÃ£o supremo de toda doutrina e experiÃªncia.</p>
                    </div>
                    
                    <div class="doctrine-card">
                        <h3><i class="fas fa-cross"></i> SalvaÃ§Ã£o por meio de Cristo</h3>
                        <p>Cremos que a salvaÃ§Ã£o Ã© um dom gratuito de Deus recebido pela fÃ© em Jesus Cristo, que morreu pelos nossos pecados e ressuscitou para nossa justificaÃ§Ã£o.</p>
                    </div>
                    
                    <div class="doctrine-card">
                        <h3><i class="fas fa-calendar-day"></i> O SÃ¡bado Sagrado</h3>
                        <p>Cremos que o sÃ©timo dia da semana, o sÃ¡bado, Ã© o dia de descanso e adoraÃ§Ã£o estabelecido por Deus na criaÃ§Ã£o e confirmado nos Dez Mandamentos.</p>
                    </div>
                    
                    <div class="doctrine-card">
                        <h3><i class="fas fa-undo-alt"></i> A Segunda Vinda de Cristo</h3>
                        <p>Cremos na breve e visÃ­vel volta de Jesus Cristo em glÃ³ria e poder, que marcarÃ¡ o fim do pecado e o estabelecimento do Seu reino eterno.</p>
                    </div>
                    
                    <div class="doctrine-card">
                        <h3><i class="fas fa-tint"></i> O Batismo por ImersÃ£o</h3>
                        <p>Cremos no batismo por imersÃ£o como sÃ­mbolo pÃºblico de nossa fÃ© em Cristo, morte para o pecado e ressurreiÃ§Ã£o para uma nova vida.</p>
                    </div>
                    
                    <div class="doctrine-card">
                        <h3><i class="fas fa-heartbeat"></i> O MinistÃ©rio de Cristo no SantuÃ¡rio Celestial</h3>
                        <p>Cremos que Cristo iniciou em 1844 um ministÃ©rio especial de juÃ­zo investigativo no santuÃ¡rio celestial, preparando o caminho para Sua segunda vinda.</p>
                    </div>
                    
                    <div class="doctrine-card">
                        <h3><i class="fas fa-apple-alt"></i> O Estilo de Vida SaudÃ¡vel</h3>
                        <p>Cremos que nosso corpo Ã© templo do EspÃ­rito Santo e defendemos um estilo de vida saudÃ¡vel, incluindo alimentaÃ§Ã£o adequada, exercÃ­cio fÃ­sico e abstinÃªncia de substÃ¢ncias nocivas.</p>
                    </div>
                    
                    <div class="doctrine-card">
                        <h3><i class="fas fa-dove"></i> O Dom de Profecia</h3>
                        <p>Cremos que o dom de profecia foi manifestado no ministÃ©rio de Ellen G. White, cujos escritos continuam a orientar e inspirar a igreja.</p>
                    </div>
                </div>
            </div>
            
            <div class="commissions-section">
                <h2>ComissÃµes e Departamentos</h2>
                <p style="text-align: center; margin-bottom: 1.5rem;">Selecione o tipo de comissÃ£o para acessar o sistema de atas correspondente:</p>
                
                <div class="commissions-grid">
                    <div class="commission-card" onclick="selectCommission('assembleia-geral')">
                        <i class="fas fa-users commission-icon"></i>
                        <h3>Assembleia Geral</h3>
                        <p>ReuniÃµes com participaÃ§Ã£o de todos os membros da igreja</p>
                    </div>
                    
                    <div class="commission-card" onclick="selectCommission('diretoria')">
                        <i class="fas fa-user-tie commission-icon"></i>
                        <h3>Diretoria</h3>
                        <p>ReuniÃµes da diretoria da igreja</p>
                    </div>
                    
                    <div class="commission-card" onclick="selectCommission('comissao')">
                        <i class="fas fa-clipboard-list commission-icon"></i>
                        <h3>ComissÃµes</h3>
                        <p>ReuniÃµes de comissÃµes especÃ­ficas</p>
                    </div>
                    
                    <div class="commission-card" onclick="selectCommission('secretaria')">
                        <i class="fas fa-file-alt commission-icon"></i>
                        <h3>Secretaria</h3>
                        <p>ReuniÃµes do departamento de secretaria</p>
                    </div>
                    
                    <div class="commission-card" onclick="selectCommission('tesouraria')">
                        <i class="fas fa-dollar-sign commission-icon"></i>
                        <h3>Tesouraria</h3>
                        <p>ReuniÃµes do departamento financeiro</p>
                    </div>
                    
                    <div class="commission-card" onclick="selectCommission('outra')">
                        <i class="fas fa-ellipsis-h commission-icon"></i>
                        <h3>Outras ReuniÃµes</h3>
                        <p>ReuniÃµes que nÃ£o se enquadram nas categorias acima</p>
                    </div>
                </div>
            </div>
            
            <div class="actions">
                <button class="btn btn-primary" onclick="goToATASystem()">
                    <i class="fas fa-external-link-alt"></i> Acessar Sistema de ATAs
                </button>
                <button class="btn btn-secondary" onclick="showHistoryScreen()">
                    <i class="fas fa-history"></i> Ver HistÃ³rico de ATAs
                </button>
            </div>
        </div>
    </div>
    
    <!-- SISTEMA DE ATAS -->
    <div class="container screen" id="ata-system-screen">
        <button class="back-button" onclick="goBackToHome()">
            <i class="fas fa-arrow-left"></i> Voltar para a Tela Inicial
        </button>
        
        <div class="card">
            <div class="tabs">
                <button class="tab active" data-tab="create">Criar ATA</button>
                <button class="tab" data-tab="history">HistÃ³rico</button>
                <button class="tab" data-tab="help">Ajuda</button>
            </div>
            
            <div class="tab-content active" id="create-tab">
                <h2>Criar Nova ATA</h2>
                
                <div class="form-group">
                    <label for="ataType">Tipo de ATA</label>
                    <select id="ataType">
                        <option value="">Selecione o tipo de ATA</option>
                        <option value="assembleia-geral">Assembleia Geral</option>
                        <option value="diretoria">ReuniÃ£o de Diretoria</option>
                        <option value="comissao">ReuniÃ£o de ComissÃ£o</option>
                        <option value="secretaria">ReuniÃ£o de Secretaria</option>
                        <option value="tesouraria">ReuniÃ£o de Tesouraria</option>
                        <option value="outra">Outra</option>
                    </select>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="ataNumber">NÃºmero da ATA</label>
                        <input type="text" id="ataNumber" placeholder="Ex: 001/2023">
                    </div>
                    
                    <div class="form-group">
                        <label for="ataDate">Data da ReuniÃ£o</label>
                        <input type="date" id="ataDate">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="ataLocation">Local da ReuniÃ£o</label>
                    <input type="text" id="ataLocation" placeholder="Ex: Sala de ReuniÃµes da Igreja" value="Igreja Adventista do SÃ©timo Dia">
                </div>
                
                <div class="form-group">
                    <label for="meetingTime">HorÃ¡rio da ReuniÃ£o</label>
                    <input type="text" id="meetingTime" placeholder="Ex: 19:30 Ã s 21:00">
                </div>
                
                <h3>Participantes</h3>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="president">Presidente da ReuniÃ£o</label>
                        <input type="text" id="president" placeholder="Nome do presidente">
                    </div>
                    
                    <div class="form-group">
                        <label for="secretary">SecretÃ¡rio da ReuniÃ£o</label>
                        <input type="text" id="secretary" placeholder="Nome do secretÃ¡rio">
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="participants">Lista de Participantes</label>
                    <div class="form-row">
                        <input type="text" id="newParticipant" placeholder="Nome do participante">
                        <button class="btn btn-secondary" id="addParticipant">Adicionar</button>
                    </div>
                    <div class="members-list" id="participantsList">
                        <!-- Participants will be added here -->
                    </div>
                </div>
                
                <h3>Pauta da ReuniÃ£o</h3>
                
                <div class="form-group">
                    <label for="agendaItems">Itens da Pauta</label>
                    <textarea id="agendaItems" placeholder="Descreva os itens da pauta, um por linha"></textarea>
                </div>
                
                <h3>DeliberaÃ§Ãµes</h3>
                
                <div class="form-group">
                    <label for="deliberations">DeliberaÃ§Ãµes e DecisÃµes</label>
                    <textarea id="deliberations" placeholder="Descreva as deliberaÃ§Ãµes e decisÃµes tomadas"></textarea>
                </div>
                
                <div class="actions system-actions">
                    <button class="btn btn-secondary" id="previewBtn">Visualizar ATA</button>
                    <button class="btn btn-primary" id="generateBtn">Gerar e Salvar ATA</button>
                </div>
                
                <div class="preview-container" id="previewContainer" style="display: none;">
                    <h3>PrÃ©-visualizaÃ§Ã£o da ATA</h3>
                    <div class="ata-preview" id="ataPreview">
                        <!-- ATA preview will be generated here -->
                    </div>
                </div>
            </div>
            
            <div class="tab-content" id="history-tab">
                <h2>HistÃ³rico de ATAs</h2>
                
                <div class="history-list" id="historyList">
                    <!-- History items will be added here -->
                </div>
                
                <div class="empty-state" id="emptyHistory" style="display: none;">
                    <i class="fas fa-history"></i>
                    <h3>Nenhuma ATA encontrada</h3>
                    <p>As atas que vocÃª criar aparecerÃ£o aqui.</p>
                </div>
            </div>
            
            <div class="tab-content" id="help-tab">
                <h2>Ajuda e InstruÃ§Ãµes</h2>
                
                <h3>Como usar o sistema</h3>
                <p>Para criar uma nova ATA, siga os passos:</p>
                <ol>
                    <li>Selecione o tipo de ATA que deseja criar</li>
                    <li>Preencha os dados bÃ¡sicos da reuniÃ£o (nÃºmero, data, local, horÃ¡rio)</li>
                    <li>Adicione os participantes da reuniÃ£o</li>
                    <li>Descreva a pauta da reuniÃ£o</li>
                    <li>Registre as deliberaÃ§Ãµes e decisÃµes tomadas</li>
                    <li>Visualize a ATA antes de gerar o documento final</li>
                    <li>Clique em "Gerar e Salvar ATA" para finalizar</li>
                </ol>
                
                <h3>Tipos de ATA</h3>
                <ul>
                    <li><strong>Assembleia Geral:</strong> ReuniÃµes com a participaÃ§Ã£o de todos os membros da igreja</li>
                    <li><strong>ReuniÃ£o de Diretoria:</strong> ReuniÃµes da diretoria da igreja</li>
                    <li><strong>ReuniÃ£o de ComissÃ£o:</strong> ReuniÃµes de comissÃµes especÃ­ficas</li>
                    <li><strong>ReuniÃ£o de Secretaria:</strong> ReuniÃµes do departamento de secretaria</li>
                    <li><strong>ReuniÃ£o de Tesouraria:</strong> ReuniÃµes do departamento financeiro</li>
                    <li><strong>Outra:</strong> Para reuniÃµes que nÃ£o se enquadram nas categorias acima</li>
                </ul>
                
                <h3>Recursos do Sistema</h3>
                <ul>
                    <li><strong>HistÃ³rico:</strong> Todas as ATAs criadas ficam salvas no histÃ³rico</li>
                    <li><strong>Download:</strong> Ã‰ possÃ­vel baixar as ATAs em formato PDF</li>
                    <li><strong>VisualizaÃ§Ã£o:</strong> PrÃ©-visualizaÃ§Ã£o da ATA antes de gerar</li>
                    <li><strong>EdiÃ§Ã£o:</strong> Possibilidade de editar ATAs do histÃ³rico</li>
                </ul>
            </div>
        </div>
    </div>
    
    <footer>
        <p>Igreja Adventista do SÃ©timo Dia &copy; 2023 - Proclamando as TrÃªs Mensagens AngÃ©licas</p>
    </footer>

    <script>
        // VariÃ¡veis globais
        let selectedCommission = '';
        let participants = [];
        
        // NavegaÃ§Ã£o entre telas
        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }
        
        function goBackToHome() {
            showScreen('home-screen');
            document.getElementById('subtitle').textContent = 'ATA Digital - Sistema de Registro de Atas';
        }
        
        function showHistoryScreen() {
            showScreen('ata-system-screen');
            document.querySelector('[data-tab="history"]').click();
            document.getElementById('subtitle').textContent = 'HistÃ³rico de ATAs';
        }
        
        // SeleÃ§Ã£o de comissÃ£o
        function selectCommission(commission) {
            selectedCommission = commission;
            
            // Update UI to show selected commission
            const cards = document.querySelectorAll('.commission-card');
            cards.forEach(card => {
                card.style.border = '1px solid var(--border)';
                card.style.background = 'white';
                card.style.color = 'var(--dark)';
                
                const h3 = card.querySelector('h3');
                const icon = card.querySelector('.commission-icon');
                
                if (h3) h3.style.color = 'var(--primary-dark)';
                if (icon) icon.style.color = 'var(--primary)';
            });
            
            // Highlight selected card
            const selectedCard = document.querySelector(`[onclick="selectCommission('${commission}')"]`);
            if (selectedCard) {
                selectedCard.style.border = '2px solid var(--primary)';
                selectedCard.style.background = 'var(--primary)';
                selectedCard.style.color = 'white';
                
                const h3 = selectedCard.querySelector('h3');
                const icon = selectedCard.querySelector('.commission-icon');
                
                if (h3) h3.style.color = 'white';
                if (icon) icon.style.color = 'white';
            }
        }
        
        function goToATASystem() {
            if (!selectedCommission) {
                alert('Por favor, selecione um tipo de comissÃ£o antes de prosseguir.');
                return;
            }
            
            showScreen('ata-system-screen');
            document.getElementById('subtitle').textContent = 'Sistema de ATAs - ' + getCommissionName(selectedCommission);
            
            // Preencher automaticamente o tipo de ATA
            document.getElementById('ataType').value = selectedCommission;
            
            // Ir para a aba de criaÃ§Ã£o
            document.querySelector('[data-tab="create"]').click();
        }
        
        function getCommissionName(commission) {
            const commissionNames = {
                'assembleia-geral': 'Assembleia Geral',
                'diretoria': 'ReuniÃ£o de Diretoria',
                'comissao': 'ReuniÃ£o de ComissÃ£o',
                'secretaria': 'ReuniÃ£o de Secretaria',
                'tesouraria': 'ReuniÃ£o de Tesouraria',
                'outra': 'Outra ReuniÃ£o'
            };
            
            return commissionNames[commission] || 'ReuniÃ£o';
        }
        
        // ========== SISTEMA DE ATAS ==========
        
        document.addEventListener('DOMContentLoaded', function() {
            // Inicializar seleÃ§Ã£o padrÃ£o
            selectCommission('assembleia-geral');
            
            // Tab functionality
            const tabs = document.querySelectorAll('.tab');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const tabId = this.getAttribute('data-tab');
                    
                    // Update active tab
                    tabs.forEach(t => t.classList.remove('active'));
                    this.classList.add('active');
                    
                    // Show active tab content
                    tabContents.forEach(content => content.classList.remove('active'));
                    document.getElementById(`${tabId}-tab`).classList.add('active');
                    
                    // If history tab, load history
                    if (tabId === 'history') {
                        loadHistory();
                    }
                });
            });
            
            // Participants functionality
            const addParticipantBtn = document.getElementById('addParticipant');
            const newParticipantInput = document.getElementById('newParticipant');
            const participantsList = document.getElementById('participantsList');
            
            addParticipantBtn.addEventListener('click', function() {
                const participantName = newParticipantInput.value.trim();
                if (participantName) {
                    addParticipant(participantName);
                    newParticipantInput.value = '';
                }
            });
            
            newParticipantInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    addParticipantBtn.click();
                }
            });
            
            function addParticipant(name) {
                participants.push(name);
                renderParticipants();
            }
            
            function removeParticipant(index) {
                participants.splice(index, 1);
                renderParticipants();
            }
            
            function renderParticipants() {
                participantsList.innerHTML = '';
                
                if (participants.length === 0) {
                    participantsList.innerHTML = '<p style="color: var(--gray); text-align: center; padding: 1rem;">Nenhum participante adicionado</p>';
                    return;
                }
                
                participants.forEach((participant, index) => {
                    const participantElement = document.createElement('div');
                    participantElement.className = 'member-item';
                    participantElement.innerHTML = `
                        <span>${participant}</span>
                        <div class="member-actions">
                            <button class="btn btn-secondary" onclick="removeParticipant(${index})">
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    `;
                    participantsList.appendChild(participantElement);
                });
            }
            
            // Initialize with empty participants list
            renderParticipants();
            
            // Preview functionality
            const previewBtn = document.getElementById('previewBtn');
            const generateBtn = document.getElementById('generateBtn');
            const previewContainer = document.getElementById('previewContainer');
            const ataPreview = document.getElementById('ataPreview');
            
            previewBtn.addEventListener('click', function() {
                generatePreview();
                previewContainer.style.display = 'block';
            });
            
            function generatePreview() {
                const ataType = document.getElementById('ataType').value;
                const ataNumber = document.getElementById('ataNumber').value;
                const ataDate = document.getElementById('ataDate').value;
                const ataLocation = document.getElementById('ataLocation').value;
                const meetingTime = document.getElementById('meetingTime').value;
                const president = document.getElementById('president').value;
                const secretary = document.getElementById('secretary').value;
                const agendaItems = document.getElementById('agendaItems').value;
                const deliberations = document.getElementById('deliberations').value;
                
                // Format date
                const formattedDate = ataDate ? new Date(ataDate).toLocaleDateString('pt-BR') : '';
                
                // Format agenda items
                const agendaList = agendaItems.split('\n')
                    .filter(item => item.trim() !== '')
                    .map(item => `<li>${item}</li>`)
                    .join('');
                
                // Get type label
                const typeLabels = {
                    'assembleia-geral': 'Assembleia Geral',
                    'diretoria': 'ReuniÃ£o de Diretoria',
                    'comissao': 'ReuniÃ£o de ComissÃ£o',
                    'secretaria': 'ReuniÃ£o de Secretaria',
                    'tesouraria': 'ReuniÃ£o de Tesouraria',
                    'outra': 'ReuniÃ£o'
                };
                
                const typeLabel = typeLabels[ataType] || 'ReuniÃ£o';
                
                ataPreview.innerHTML = `
                    <div class="ata-header">
                        <div class="ata-title">ATA DE ${typeLabel.toUpperCase()}</div>
                        <div class="ata-subtitle">NÂº ${ataNumber || '___/____'}</div>
                    </div>
                    
                    <div class="ata-body">
                        <p>Aos <strong>${formattedDate || '_____'}</strong>, Ã s <strong>${meetingTime || '_____'}</strong>, 
                        na <strong>${ataLocation || '_____'}</strong>, reuniu-se a <strong>${typeLabel}</strong> 
                        da <strong>Igreja Adventista do SÃ©timo Dia</strong>, sob a presidÃªncia de 
                        <strong>${president || '_____'}</strong>, secretariada por 
                        <strong>${secretary || '_____'}</strong>, com a seguinte pauta:</p>
                        
                        <ol>
                            ${agendaList || '<li>_________________________________</li>'}
                        </ol>
                        
                        <p>Foram discutidos os assuntos constantes da pauta e, apÃ³s debates, foram tomadas as seguintes deliberaÃ§Ãµes:</p>
                        
                        <p>${deliberations || '_________________________________________________________'}</p>
                        
                        <p>Nada mais havendo a tratar, foi encerrada a reuniÃ£o e, para constar, foi lavrada a presente ata, que serÃ¡ assinada pelo presidente e secretÃ¡rio.</p>
                    </div>
                    
                    <div class="ata-signatures">
                        <div class="signature-line">
                            <strong>${president || '__________________________'}</strong><br>
                            Presidente
                        </div>
                        
                        <div class="signature-line">
                            <strong>${secretary || '__________________________'}</strong><br>
                            SecretÃ¡rio
                        </div>
                    </div>
                `;
            }
            
            // Generate and save ATA
            generateBtn.addEventListener('click', function() {
                const ataType = document.getElementById('ataType').value;
                const ataNumber = document.getElementById('ataNumber').value;
                const ataDate = document.getElementById('ataDate').value;
                
                if (!ataType || !ataNumber || !ataDate) {
                    alert('Por favor, preencha pelo menos o tipo, nÃºmero e data da ATA.');
                    return;
                }
                
                // Generate ATA data
                const ataData = {
                    id: Date.now(),
                    type: ataType,
                    number: ataNumber,
                    date: ataDate,
                    location: document.getElementById('ataLocation').value,
                    time: document.getElementById('meetingTime').value,
                    president: document.getElementById('president').value,
                    secretary: document.getElementById('secretary').value,
                    participants: participants,
                    agenda: document.getElementById('agendaItems').value,
                    deliberations: document.getElementById('deliberations').value,
                    createdAt: new Date().toISOString()
                };
                
                // Save to localStorage
                saveATA(ataData);
                
                // Generate and download PDF
                downloadATA(ataData);
                
                // Show success message
                alert('ATA gerada e salva com sucesso!');
                
                // Reset form
                resetForm();
                
                // Switch to history tab
                document.querySelector('[data-tab="history"]').click();
            });
            
            function saveATA(ataData) {
                let atas = JSON.parse(localStorage.getItem('adventist-atas')) || [];
                atas.push(ataData);
                localStorage.setItem('adventist-atas', JSON.stringify(atas));
            }
            
            function loadHistory() {
                const historyList = document.getElementById('historyList');
                const emptyHistory = document.getElementById('emptyHistory');
                
                let atas = JSON.parse(localStorage.getItem('adventist-atas')) || [];
                
                historyList.innerHTML = '';
                
                if (atas.length === 0) {
                    emptyHistory.style.display = 'block';
                    return;
                }
                
                emptyHistory.style.display = 'none';
                
                // Sort by date (newest first)
                atas.sort((a, b) => new Date(b.createdAt) - new Date(a.createdAt));
                
                atas.forEach(ata => {
                    const typeLabels = {
                        'assembleia-geral': 'Assembleia Geral',
                        'diretoria': 'ReuniÃ£o de Diretoria',
                        'comissao': 'ReuniÃ£o de ComissÃ£o',
                        'secretaria': 'ReuniÃ£o de Secretaria',
                        'tesouraria': 'ReuniÃ£o de Tesouraria',
                        'outra': 'ReuniÃ£o'
                    };
                    
                    const formattedDate = new Date(ata.date).toLocaleDateString('pt-BR');
                    const createdDate = new Date(ata.createdAt).toLocaleDateString('pt-BR');
                    
                    const historyItem = document.createElement('div');
                    historyItem.className = 'history-item';
                    historyItem.innerHTML = `
                        <div class="history-info">
                            <div class="history-title">ATA ${ata.number} - ${typeLabels[ata.type]}</div>
                            <div class="history-details">
                                Realizada em ${formattedDate} | Criada em ${createdDate} | 
                                ${ata.participants.length} participantes
                            </div>
                        </div>
                        <div class="history-actions">
                            <button class="btn btn-secondary" onclick="viewATA(${ata.id})">
                                <i class="fas fa-eye"></i> Ver
                            </button>
                            <button class="btn btn-primary" onclick="downloadATAFromHistory(${ata.id})">
                                <i class="fas fa-download"></i> Baixar
                            </button>
                            <button class="btn btn-secondary" onclick="editATA(${ata.id})">
                                <i class="fas fa-edit"></i> Editar
                            </button>
                            <button class="btn btn-secondary" onclick="deleteATA(${ata.id})">
                                <i class="fas fa-trash"></i>
                            </button>
                        </div>
                    `;
                    historyList.appendChild(historyItem);
                });
            }
            
            function resetForm() {
                document.getElementById('ataType').value = selectedCommission; // MantÃ©m a comissÃ£o selecionada
                document.getElementById('ataNumber').value = '';
                document.getElementById('ataDate').value = '';
                document.getElementById('ataLocation').value = 'Igreja Adventista do SÃ©timo Dia';
                document.getElementById('meetingTime').value = '';
                document.getElementById('president').value = '';
                document.getElementById('secretary').value = '';
                document.getElementById('agendaItems').value = '';
                document.getElementById('deliberations').value = '';
                participants = [];
                renderParticipants();
                previewContainer.style.display = 'none';
            }
            
            // Download ATA as PDF
            function downloadATA(ataData) {
                // In a real implementation, this would generate an actual PDF
                // For this example, we'll create a text file
                
                const typeLabels = {
                    'assembleia-geral': 'Assembleia Geral',
                    'diretoria': 'ReuniÃ£o de Diretoria',
                    'comissao': 'ReuniÃ£o de ComissÃ£o',
                    'secretaria': 'ReuniÃ£o de Secretaria',
                    'tesouraria': 'ReuniÃ£o de Tesouraria',
                    'outra': 'ReuniÃ£o'
                };
                
                const formattedDate = new Date(ataData.date).toLocaleDateString('pt-BR');
                
                let content = `ATA DE ${typeLabels[ataData.type].toUpperCase()}\n`;
                content += `NÂº ${ataData.number}\n\n`;
                content += `Aos ${formattedDate}, Ã s ${ataData.time}, na ${ataData.location}, `;
                content += `reuniu-se a ${typeLabels[ataData.type]} da Igreja Adventista do SÃ©timo Dia, `;
                content += `sob a presidÃªncia de ${ataData.president}, secretariada por ${ataData.secretary}.\n\n`;
                content += `PAUTA:\n`;
                
                const agendaItems = ataData.agenda.split('\n').filter(item => item.trim() !== '');
                agendaItems.forEach((item, index) => {
                    content += `${index + 1}. ${item}\n`;
                });
                
                content += `\nDELIBERAÃ‡Ã•ES:\n`;
                content += `${ataData.deliberations}\n\n`;
                content += `PARTICIPANTES:\n`;
                ataData.participants.forEach(participant => {
                    content += `- ${participant}\n`;
                });
                
                content += `\n__________________________________________\n`;
                content += `${ataData.president}\n`;
                content += `Presidente\n\n`;
                content += `__________________________________________\n`;
                content += `${ataData.secretary}\n`;
                content += `SecretÃ¡rio\n`;
                
                const blob = new Blob([content], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = `ATA-${ataData.number}-${formattedDate.replace(/\//g, '-')}.txt`;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            }
            
            // Make functions available globally for onclick handlers
            window.removeParticipant = removeParticipant;
            window.viewATA = function(id) {
                const atas = JSON.parse(localStorage.getItem('adventist-atas')) || [];
                const ata = atas.find(a => a.id === id);
                if (ata) {
                    alert(`Visualizando ATA ${ata.number}. Em uma implementaÃ§Ã£o real, isso abriria uma visualizaÃ§Ã£o detalhada.`);
                }
            };
            
            window.downloadATAFromHistory = function(id) {
                const atas = JSON.parse(localStorage.getItem('adventist-atas')) || [];
                const ata = atas.find(a => a.id === id);
                if (ata) {
                    downloadATA(ata);
                }
            };
            
            window.editATA = function(id) {
                const atas = JSON.parse(localStorage.getItem('adventist-atas')) || [];
                const ata = atas.find(a => a.id === id);
                if (ata) {
                    // Switch to create tab
                    document.querySelector('[data-tab="create"]').click();
                    
                    // Fill form with ATA data
                    document.getElementById('ataType').value = ata.type;
                    document.getElementById('ataNumber').value = ata.number;
                    document.getElementById('ataDate').value = ata.date;
                    document.getElementById('ataLocation').value = ata.location;
                    document.getElementById('meetingTime').value = ata.time;
                    document.getElementById('president').value = ata.president;
                    document.getElementById('secretary').value = ata.secretary;
                    document.getElementById('agendaItems').value = ata.agenda;
                    document.getElementById('deliberations').value = ata.deliberations;
                    participants = ata.participants;
                    renderParticipants();
                    
                    alert('ATA carregada para ediÃ§Ã£o. Lembre-se de gerar novamente apÃ³s as alteraÃ§Ãµes.');
                }
            };
            
            window.deleteATA = function(id) {
                if (confirm('Tem certeza que deseja excluir esta ATA?')) {
                    let atas = JSON.parse(localStorage.getItem('adventist-atas')) || [];
                    atas = atas.filter(a => a.id !== id);
                    localStorage.setItem('adventist-atas', JSON.stringify(atas));
                    loadHistory();
                }
            };
        });
    </script>
</body>
</html>