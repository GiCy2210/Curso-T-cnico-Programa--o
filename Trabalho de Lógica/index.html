<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MonkeyVibes - Sua Música, Seu Estilo</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" onload="this.rel='stylesheet'">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="app-container">
    <!-- Sidebar -->
    <aside class="sidebar" role="navigation" aria-label="Menu principal">
      <div class="logo">
        <img src="https://github.com/GiCy2210/Musicas/blob/main/Monkey.jpg?raw=true" alt="Logo MonkeyVibes" class="logo-img" loading="lazy">
      </div>
      
      <div class="nav-section">
        <div class="nav-title">Navegação</div>
        <div class="nav-item active" data-page="home">
          <i class="fas fa-home"></i>
          <span>Início</span>
        </div>
        <div class="nav-item" data-page="search">
          <i class="fas fa-search"></i>
          <span>Buscar</span>
        </div>
        <div class="nav-item" data-page="library">
          <i class="fas fa-book-open"></i>
          <span>Sua Biblioteca</span>
        </div>
      </div>
      
      <div class="nav-section">
        <div class="nav-title">Minha Biblioteca</div>
        <div class="nav-item" data-page="playlists">
          <i class="fas fa-list"></i>
          <span>Playlists</span>
        </div>
        <div class="nav-item" data-page="albums">
          <i class="fas fa-compact-disc"></i>
          <span>Álbuns</span>
        </div>
        <div class="nav-item" data-page="artists">
          <i class="fas fa-microphone"></i>
          <span>Artistas</span>
        </div>
      </div>
      
      <div class="nav-section">
        <div class="nav-title">Suas Playlists</div>
        <div class="playlist-item" data-page="liked-songs">
          <i class="fas fa-heart" style="color: #ef4444;"></i>
          <span>Músicas Curtidas</span>
        </div>
        <div class="playlist-item" data-page="relaxing">
          <i class="fas fa-leaf" style="color: #10b981;"></i>
          <span>Relaxantes</span>
        </div>
        <div class="playlist-item" data-page="workout">
          <i class="fas fa-dumbbell" style="color: #f59e0b;"></i>
          <span>Academia</span>
        </div>
        <div class="playlist-item" data-page="animes">
          <i class="fas fa-star" style="color: #8b5cf6;"></i>
          <span>Animes</span>
        </div>
        <div class="playlist-item" data-page="create-playlist">
          <i class="fas fa-plus"></i>
          <span>Criar Playlist</span>
        </div>
      </div>

      <!-- Botão de alternar tema -->
      <div class="nav-section">
        <div class="nav-item theme-toggle">
          <i class="fas fa-moon"></i>
          <span>Alternar Tema</span>
        </div>
      </div>
    </aside>

    <!-- Conteúdo Principal -->
    <main class="main-content">
      <!-- Página Início -->
      <div class="page active" id="home-page">
        <!-- Seção de Destaques -->
        <section class="section">
          <div class="section-header">
            <h2 class="section-title">Destaques</h2>
            <div class="view-all" data-section="featured">Ver tudo</div>
          </div>
          
          <div class="card-grid" id="featured-content">
            <!-- Conteúdo gerado por JavaScript -->
          </div>
        </section>
        
        <!-- Seção de Álbuns Recentes -->
        <section class="section">
          <div class="section-header">
            <h2 class="section-title">Álbuns Recentes</h2>
            <div class="view-all" data-section="recent-albums">Ver tudo</div>
          </div>
          
          <div class="card-grid" id="recent-albums">
            <!-- Conteúdo gerado por JavaScript -->
          </div>
        </section>
        
        <!-- Seção de Artistas Populares -->
        <section class="section">
          <div class="section-header">
            <h2 class="section-title">Artistas em Alta</h2>
            <div class="view-all" data-section="popular-artists">Ver tudo</div>
          </div>
          
          <div class="card-grid" id="popular-artists">
            <!-- Conteúdo gerado por JavaScript -->
          </div>
        </section>
      </div>

      <!-- Página de Busca -->
      <div class="page" id="search-page">
        <div class="search-container">
          <i class="fas fa-search search-icon"></i>
          <input type="text" class="search-input" placeholder="O que você quer ouvir?" id="search-input">
        </div>

        <div class="filters">
          <button class="filter-btn active">Tudo</button>
          <button class="filter-btn">Músicas</button>
          <button class="filter-btn">Álbuns</button>
          <button class="filter-btn">Artistas</button>
          <button class="filter-btn">Playlists</button>
        </div>

        <div class="section">
          <h2 class="section-title">Resultados da busca</h2>
          <div class="card-grid" id="search-results">
            <!-- Resultados da busca serão exibidos aqui -->
          </div>
        </div>

        <div class="section">
          <h2 class="section-title">Artistas</h2>
          <div class="card-grid" id="search-artists">
            <!-- Artistas encontrados na busca -->
          </div>
        </div>
      </div>

      <!-- Página de Biblioteca -->
      <div class="page" id="library-page">
        <section class="section">
          <h2 class="section-title">Sua Biblioteca</h2>
          
          <div class="filters">
            <button class="filter-btn active">Playlists</button>
            <button class="filter-btn">Álbuns</button>
            <button class="filter-btn">Artistas</button>
            <button class="filter-btn">Músicas</button>
          </div>

          <div class="card-grid" id="library-content">
            <!-- Conteúdo da biblioteca será exibido aqui -->
          </div>
        </section>
      </div>

      <!-- Página de Playlists -->
      <div class="page" id="playlists-page">
        <section class="section">
          <h2 class="section-title">Suas Playlists</h2>
          
          <div class="card-grid" id="playlists-content">
            <!-- Playlists do usuário serão exibidas aqui -->
          </div>
        </section>
      </div>

      <!-- Página de Álbuns -->
      <div class="page" id="albums-page">
        <section class="section">
          <h2 class="section-title">Seus Álbuns</h2>
          
          <div class="card-grid" id="albums-content">
            <!-- Álbuns do usuário serão exibidos aqui -->
          </div>
        </section>
      </div>

      <!-- Página de Artistas -->
      <div class="page" id="artists-page">
        <section class="section">
          <h2 class="section-title">Seus Artistas</h2>
          
          <div class="card-grid" id="artists-content">
            <!-- Artistas seguidos pelo usuário serão exibidos aqui -->
          </div>
        </section>
      </div>

      <!-- Página de Músicas Curtidas -->
      <div class="page" id="liked-songs-page">
        <div class="playlist-header">
          <img src="https://github.com/GiCy2210/Musicas/blob/main/Curtidas.jpg?raw=true" alt="Músicas Curtidas" class="playlist-image" loading="lazy">
          <div class="playlist-info">
            <div class="playlist-type">Playlist</div>
            <h1 class="playlist-title">Músicas Curtidas</h1>
            <p class="playlist-description">Suas músicas favoritas de todos os tempos</p>
            <div class="playlist-stats">
              <span>MonkeyVibes</span>
              <span>•</span>
              <span id="liked-songs-count">0 músicas</span>
            </div>
            <div class="playlist-actions">
              <button class="btn" id="play-liked-songs">
                <i class="fas fa-play"></i>
                Reproduzir
              </button>
              <button class="btn-outline" id="sort-liked-songs">
                <i class="fas fa-sort"></i>
                Ordenar
              </button>
              <button class="btn-outline" onclick="editPlaylist('playlist1')">
                <i class="fas fa-edit"></i>
                Editar
              </button>
            </div>
          </div>
        </div>

        <div class="song-list" id="liked-songs-list">
          <!-- Lista de músicas curtidas será exibida aqui -->
        </div>
      </div>

      <!-- Página Para Relaxar -->
      <div class="page" id="relaxing-page">
        <div class="playlist-header">
          <img src="https://github.com/GiCy2210/Musicas/blob/main/Curtidas.jpg?raw=true" alt="Para Relaxar" class="playlist-image" loading="lazy">
          <div class="playlist-info">
            <div class="playlist-type">Playlist</div>
            <h1 class="playlist-title">Relaxantes</h1>
            <p class="playlist-description">Músicas calmas para relaxar e desestressar</p>
            <div class="playlist-stats">
              <span>MonkeyVibes</span>
              <span>•</span>
              <span>12 músicas</span>
            </div>
            <div class="playlist-actions">
              <button class="btn">
                <i class="fas fa-play"></i>
                Reproduzir
              </button>
              <button class="btn-outline">
                <i class="fas fa-random"></i>
                Ordem Aleatória
              </button>
              <button class="btn-outline">
                <i class="fas fa-ellipsis-h"></i>
              </button>
            </div>
          </div>
        </div>

        <div class="song-list" id="relaxing-songs-list">
          <!-- Lista de músicas relaxantes será exibida aqui -->
        </div>
      </div>

      <!-- Página Para Academia -->
      <div class="page" id="workout-page">
        <div class="playlist-header">
          <img src="https://github.com/GiCy2210/Musicas/blob/main/Curtidas.jpg?raw=true" alt="Para Academia" class="playlist-image" loading="lazy">
          <div class="playlist-info">
            <div class="playlist-type">Playlist</div>
            <h1 class="playlist-title">Academia</h1>
            <p class="playlist-description">Músicas energéticas para o seu treino</p>
            <div class="playlist-stats">
              <span>MonkeyVibes</span>
              <span>•</span>
              <span>15 músicas</span>
            </div>
            <div class="playlist-actions">
              <button class="btn">
                <i class="fas fa-play"></i>
                Reproduzir
              </button>
              <button class="btn-outline">
                <i class="fas fa-random"></i>
                Ordem Aleatória
              </button>
              <button class="btn-outline">
                <i class="fas fa-ellipsis-h"></i>
              </button>
            </div>
          </div>
        </div>

        <div class="song-list" id="workout-songs-list">
          <!-- Lista de músicas para academia será exibida aqui -->
        </div>
      </div>

      <!-- Página de Animes -->
      <div class="page" id="animes-page">
        <div class="playlist-header">
          <img src="https://github.com/GiCy2210/Musicas/blob/main/Curtidas.jpg?raw=true" alt="Animes" class="playlist-image" loading="lazy">
          <div class="playlist-info">
            <div class="playlist-type">Playlist</div>
            <h1 class="playlist-title">Animes</h1>
            <p class="playlist-description">As melhores aberturas e encerramentos de animes</p>
            <div class="playlist-stats">
              <span>MonkeyVibes</span>
              <span>•</span>
              <span>20 músicas</span>
            </div>
            <div class="playlist-actions">
              <button class="btn">
                <i class="fas fa-play"></i>
                Reproduzir
              </button>
              <button class="btn-outline">
                <i class="fas fa-random"></i>
                Ordem Aleatória
              </button>
              <button class="btn-outline">
                <i class="fas fa-ellipsis-h"></i>
              </button>
            </div>
          </div>
        </div>

        <div class="song-list" id="animes-songs-list">
          <!-- Lista de músicas de animes será exibida aqui -->
        </div>
      </div>

      <!-- Página de Criação de Playlist -->
      <div class="page" id="create-playlist-page">
        <section class="section">
          <h2 class="section-title">Criar Nova Playlist</h2>
          <p>Em desenvolvimento...</p>
        </section>
      </div>

    </main>
  </div>

  <!-- Player de Música -->
  <div class="player" role="contentinfo" aria-label="Player de Música">
    <div class="song-info">
      <img src="https://github.com/GiCy2210/Musicas/blob/main/Curtidas.jpg?raw=true" alt="Capa da Música" class="player-img" id="player-img">
      <div class="player-details">
        <div class="player-title" id="player-title">Nenhuma música tocando</div>
        <div class="player-artist" id="player-artist"></div>
      </div>
    </div>

    <div class="player-controls">
      <div class="control-buttons">
        <button class="control-btn" id="shuffle-btn" aria-label="Ordem Aleatória">
          <i class="fas fa-random"></i>
        </button>
        <button class="control-btn" id="prev-btn" aria-label="Música Anterior">
          <i class="fas fa-step-backward"></i>
        </button>
        <button class="control-btn play-btn" id="play-pause-btn" aria-label="Reproduzir">
          <i class="fas fa-play"></i>
        </button>
        <button class="control-btn" id="next-btn" aria-label="Próxima Música">
          <i class="fas fa-step-forward"></i>
        </button>
        <button class="control-btn" id="repeat-btn" aria-label="Repetir">
          <i class="fas fa-redo-alt"></i>
        </button>
      </div>
      <div class="progress-container">
        <span class="progress-time" id="current-time">0:00</span>
        <div class="progress-bar" id="progress-bar">
          <div class="progress-fill" id="progress-fill"></div>
        </div>
        <span class="progress-time" id="duration">0:00</span>
      </div>
    </div>

    <div class="player-options">
      <button class="control-btn" id="lyrics-btn" aria-label="Ver Letra">
        <i class="fas fa-microphone-alt"></i>
      </button>
      <button class="control-btn" id="like-btn" aria-label="Curtir Música">
        <i class="far fa-heart"></i>
      </button>
      <div class="volume-container">
        <button class="control-btn" id="volume-icon" aria-label="Volume">
          <i class="fas fa-volume-up"></i>
        </button>
        <div class="volume-bar" id="volume-bar">
          <div class="volume-fill" id="volume-fill"></div>
        </div>
      </div>
      <button class="control-btn" id="theme-toggle-player" aria-label="Alternar Tema">
        <i class="fas fa-moon"></i>
      </button>
    </div>
  </div>

  <!-- Modal de Letras -->
  <div class="modal" id="lyrics-modal" role="dialog" aria-modal="true" aria-labelledby="lyrics-modal-title">
    <div class="modal-content">
      <button class="modal-close" id="lyrics-close" aria-label="Fechar">
        <i class="fas fa-times"></i>
      </button>
      <h3 class="modal-title" id="lyrics-modal-title">Letras</h3>
      <div class="modal-text" id="lyrics-text">
        <!-- Letra da música será exibida aqui -->
      </div>
    </div>
  </div>

  <!-- Modal de Seleção de Playlist -->
  <div class="playlist-select-modal" id="playlist-select-modal" role="dialog" aria-modal="true" aria-labelledby="playlist-select-modal-title">
    <div class="playlist-select-content">
      <button class="modal-close" id="playlist-select-close" aria-label="Fechar">
        <i class="fas fa-times"></i>
      </button>
      <h3 class="playlist-select-title" id="playlist-select-modal-title">Adicionar a Playlist</h3>
      <div class="playlist-select-list" id="playlist-select-list">
        <!-- Lista de playlists para seleção será exibida aqui -->
      </div>
      <button class="btn" id="create-new-playlist-btn">
        <i class="fas fa-plus"></i>
        Criar Nova Playlist
      </button>
    </div>
  </div>

  <!-- Áudio Player (Escondido) -->
  <audio id="audio-player" src=""></audio>

  <!-- Botão de alternar menu (Mobile) -->
  <button class="menu-toggle" id="menu-toggle" aria-label="Alternar Menu">
    <i class="fas fa-bars"></i>
  </button>

  <!-- Scripts -->
  <script>
    // Dados de exemplo (simulando um banco de dados ou API)
    const featuredContent = [
      { id: 1, type: 'playlist', title: 'Top Global', subtitle: 'As mais tocadas do mundo', image: 'https://github.com/GiCy2210/Musicas/blob/main/TopGlobal.jpg?raw=true' },
      { id: 2, type: 'album', title: 'Novidades da Semana', subtitle: 'Os lançamentos mais quentes', image: 'https://github.com/GiCy2210/Musicas/blob/main/Novidades.jpg?raw=true' },
      { id: 3, type: 'artist', title: 'Artista X', subtitle: 'O novo fenômeno pop', image: 'https://github.com/GiCy2210/Musicas/blob/main/ArtistaX.jpg?raw=true' },
      { id: 4, type: 'playlist', title: 'Foco Total', subtitle: 'Música para concentração', image: 'https://github.com/GiCy2210/Musicas/blob/main/Foco.jpg?raw=true' },
      { id: 5, type: 'album', title: 'Clássicos do Rock', subtitle: 'O melhor do rock de todos os tempos', image: 'https://github.com/GiCy2210/Musicas/blob/main/Rock.jpg?raw=true' },
      { id: 6, type: 'artist', title: 'Banda Y', subtitle: 'Rock Alternativo', image: 'https://github.com/GiCy2210/Musicas/blob/main/BandaY.jpg?raw=true' },
    ];

    const recentAlbums = [
      { id: 7, type: 'album', title: 'Verão Eterno', subtitle: 'Banda Z', image: 'https://github.com/GiCy2210/Musicas/blob/main/Verao.jpg?raw=true' },
      { id: 8, type: 'album', title: 'Sons da Natureza', subtitle: 'Relaxamento', image: 'https://github.com/GiCy2210/Musicas/blob/main/Natureza.jpg?raw=true' },
      { id: 9, type: 'album', title: 'Eletro Vibes', subtitle: 'DJ Alpha', image: 'https://github.com/GiCy2210/Musicas/blob/main/Eletro.jpg?raw=true' },
      { id: 10, type: 'album', title: 'Hip Hop Essencial', subtitle: 'Vários Artistas', image: 'https://github.com/GiCy2210/Musicas/blob/main/HipHop.jpg?raw=true' },
    ];

    const popularArtists = [
      { id: 11, type: 'artist', title: 'Cantora A', subtitle: 'Pop', image: 'https://github.com/GiCy2210/Musicas/blob/main/CantoraA.jpg?raw=true' },
      { id: 12, type: 'artist', title: 'Rapper B', subtitle: 'Rap', image: 'https://github.com/GiCy2210/Musicas/blob/main/RapperB.jpg?raw=true' },
      { id: 13, type: 'artist', title: 'Duo C', subtitle: 'Indie', image: 'https://github.com/GiCy2210/Musicas/blob/main/DuoC.jpg?raw=true' },
      { id: 14, type: 'artist', title: 'DJ D', subtitle: 'Eletrônica', image: 'https://github.com/GiCy2210/Musicas/blob/main/DJD.jpg?raw=true' },
    ];

    const allSongs = [
      { id: 101, title: 'Sonho Urbano', artist: 'Artista X', album: 'Novidades da Semana', duration: '3:45', image: 'https://github.com/GiCy2210/Musicas/blob/main/ArtistaX.jpg?raw=true', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3', lyrics: 'A vida na cidade é um sonho urbano\nCorrendo contra o tempo, sem plano\nMas a música me guia, me acalma\nEnquanto a cidade respira em minha alma.' },
      { id: 102, title: 'Onda de Calor', artist: 'Banda Y', album: 'Verão Eterno', duration: '4:12', image: 'https://github.com/GiCy2210/Musicas/blob/main/BandaY.jpg?raw=true', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-2.mp3', lyrics: 'O sol se põe, a onda de calor me atinge\nLembranças de um verão que não se extingue\nAreia nos pés, o mar na memória\nEssa é a nossa história.' },
      { id: 103, title: 'Caminho Zen', artist: 'Relaxamento', album: 'Sons da Natureza', duration: '5:01', image: 'https://github.com/GiCy2210/Musicas/blob/main/Natureza.jpg?raw=true', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-3.mp3', lyrics: 'Silêncio na mente, paz no coração\nEncontrando o caminho, a direção\nA natureza fala, é só escutar\nA melodia da vida a nos guiar.' },
      { id: 104, title: 'Batida Perfeita', artist: 'DJ Alpha', album: 'Eletro Vibes', duration: '3:20', image: 'https://github.com/GiCy2210/Musicas/blob/main/Eletro.jpg?raw=true', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-4.mp3', lyrics: 'A batida perfeita, o ritmo me chama\nNa pista de dança, a noite se inflama\nAs luzes piscam, a energia no ar\nÉ hora de dançar, de se soltar.' },
      { id: 105, title: 'Rap da Quebrada', artist: 'Rapper B', album: 'Hip Hop Essencial', duration: '3:55', image: 'https://github.com/GiCy2210/Musicas/blob/main/RapperB.jpg?raw=true', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3', lyrics: 'Voz da periferia, o rap da quebrada\nContando a história, a jornada\nCom rimas afiadas, a verdade nua e crua\nA força do povo que a luta continua.' },
      { id: 106, title: 'Pop Star', artist: 'Cantora A', album: 'Top Global', duration: '3:15', image: 'https://github.com/GiCy2210/Musicas/blob/main/CantoraA.jpg?raw=true', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-6.mp3', lyrics: 'Eu sou a pop star, o brilho no palco\nCom a voz que encanta, o ritmo que embala\nOs holofotes em mim, a multidão a gritar\nÉ a minha hora de brilhar.' },
      { id: 107, title: 'Rock n Roll Clássico', artist: 'Clássicos do Rock', album: 'Clássicos do Rock', duration: '4:50', image: 'https://github.com/GiCy2210/Musicas/blob/main/Rock.jpg?raw=true', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-7.mp3', lyrics: 'Guitarra alta, bateria no talo\nO rock n roll clássico, o meu embalo\nRebeldia e atitude, a essência do som\nOnde a liberdade é o nosso dom.' },
      { id: 108, title: 'Indie Vibes', artist: 'Duo C', album: 'Novidades da Semana', duration: '3:30', image: 'https://github.com/GiCy2210/Musicas/blob/main/DuoC.jpg?raw=true', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3', lyrics: 'O som indie, a melancolia no ar\nCom letras profundas, a nos tocar\nUm violão e uma voz, a simplicidade\nA beleza da arte, a nossa verdade.' },
      { id: 109, title: 'Anime Power', artist: 'DJ D', album: 'Animes', duration: '4:05', image: 'https://github.com/GiCy2210/Musicas/blob/main/DJD.jpg?raw=true', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-9.mp3', lyrics: 'Abertura épica, a emoção no peito\nO anime power, o nosso respeito\nCom heróis e vilões, a luta sem fim\nA paixão que nos move, o nosso jardim.' },
      { id: 110, title: 'Treino Pesado', artist: 'Academia', album: 'Academia', duration: '3:40', image: 'https://github.com/GiCy2210/Musicas/blob/main/Academia.jpg?raw=true', src: 'https://www.soundhelix.com/examples/mp3/SoundHelix-Song-10.mp3', lyrics: 'O suor escorre, o corpo em movimento\nO treino pesado, o nosso tormento\nMas a música me impulsiona, me faz ir além\nA força de vontade que me mantém.' },
    ];

    const playlists = [
      { id: 'liked-songs', name: 'Músicas Curtidas', songs: allSongs.slice(0, 5) },
      { id: 'relaxing', name: 'Relaxantes', songs: allSongs.slice(2, 4) },
      { id: 'workout', name: 'Academia', songs: [allSongs[3], allSongs[9]] },
      { id: 'animes', name: 'Animes', songs: [allSongs[8]] },
    ];

    // Variáveis do Player
    const audioPlayer = document.getElementById('audio-player');
    const playPauseBtn = document.getElementById('play-pause-btn');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const shuffleBtn = document.getElementById('shuffle-btn');
    const repeatBtn = document.getElementById('repeat-btn');
    const progressBar = document.getElementById('progress-bar');
    const progressFill = document.getElementById('progress-fill');
    const currentTimeEl = document.getElementById('current-time');
    const durationEl = document.getElementById('duration');
    const playerImg = document.getElementById('player-img');
    const playerTitle = document.getElementById('player-title');
    const playerArtist = document.getElementById('player-artist');
    const likeBtn = document.getElementById('like-btn');
    const volumeIcon = document.getElementById('volume-icon');
    const volumeBar = document.getElementById('volume-bar');
    const volumeFill = document.getElementById('volume-fill');
    const lyricsBtn = document.getElementById('lyrics-btn');

    // Variáveis do Layout
    const sidebar = document.querySelector('.sidebar');
    const mainContent = document.querySelector('.main-content');
    const menuToggle = document.getElementById('menu-toggle');
    const themeToggleSidebar = document.querySelector('.theme-toggle');
    const themeTogglePlayer = document.getElementById('theme-toggle-player');
    const body = document.body;

    // Variáveis de Página
    let currentPage = 'home';
    const pages = document.querySelectorAll('.page');
    const navItems = document.querySelectorAll('.nav-item, .playlist-item');

    // Variáveis de Estado do Player
    let currentPlaylist = [];
    let currentSongIndex = -1;
    let isPlaying = false;
    let isShuffled = false;
    let isRepeated = false;
    let likedSongs = JSON.parse(localStorage.getItem('likedSongs')) || [];
    let currentVolume = parseFloat(localStorage.getItem('volume')) || 1.0;

    // Variáveis do Modal de Letras
    const lyricsModal = document.getElementById('lyrics-modal');
    const lyricsCloseBtn = document.getElementById('lyrics-close');
    const lyricsTitle = document.getElementById('lyrics-modal-title');
    const lyricsText = document.getElementById('lyrics-text');

    // Variáveis do Modal de Seleção de Playlist
    const playlistSelectModal = document.getElementById('playlist-select-modal');
    const playlistSelectCloseBtn = document.getElementById('playlist-select-close');
    const playlistSelectList = document.getElementById('playlist-select-list');
    let songToAdd = null;

    // Variáveis da Página Músicas Curtidas
    const likedSongsCount = document.getElementById('liked-songs-count');
    const likedSongsList = document.getElementById('liked-songs-list');
    const playLikedSongsBtn = document.getElementById('play-liked-songs');

    // Inicialização
    document.addEventListener('DOMContentLoaded', () => {
      renderContent('featured-content', featuredContent);
      renderContent('recent-albums', recentAlbums);
      renderContent('popular-artists', popularArtists);
      
      // Carregar tema
      if (localStorage.getItem('theme') === 'light') {
        body.classList.add('light-theme');
      }
      updateThemeToggleIcon();

      // Carregar volume
      audioPlayer.volume = currentVolume;
      updateVolumeBar();
      updateVolumeIcon();

      // Atualizar contador de músicas curtidas
      updateLikedSongsCount();
    });

    // Função para renderizar cards
    function renderContent(containerId, data) {
      const container = document.getElementById(containerId);
      if (!container) return;

      container.innerHTML = data.map(item => `
        <div class="card" data-id="${item.id}" data-type="${item.type}">
          <img src="${item.image}" alt="${item.title}" class="card-img" loading="lazy">
          <div class="card-content">
            <div class="card-title">${item.title}</div>
            <div class="card-subtitle">${item.subtitle}</div>
          </div>
        </div>
      `).join('');
    }

    // Função para renderizar lista de músicas
    function renderSongList(container, songs) {
      container.innerHTML = songs.map((song, index) => `
        <div class="song-item" data-id="${song.id}" data-index="${index}">
          <img src="${song.image}" alt="${song.title}" loading="lazy">
          <div class="song-details">
            <div class="song-name">${song.title}</div>
            <div class="song-artist">${song.artist}</div>
          </div>
          <span class="song-duration">${song.duration}</span>
          <div class="song-actions">
            <button class="song-btn like-song-btn" data-id="${song.id}" aria-label="Curtir">
              <i class="${likedSongs.includes(song.id) ? 'fas fa-heart' : 'far fa-heart'}" style="${likedSongs.includes(song.id) ? 'color: var(--success);' : ''}"></i>
            </button>
            <button class="song-btn add-to-playlist-btn" data-id="${song.id}" aria-label="Adicionar à Playlist">
              <i class="fas fa-plus"></i>
            </button>
            <button class="song-btn play-song-btn" data-id="${song.id}" aria-label="Reproduzir">
              <i class="fas fa-play"></i>
            </button>
          </div>
        </div>
      `).join('');

      // Adicionar evento de clique para reproduzir
      container.querySelectorAll('.play-song-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.stopPropagation();
          const songId = parseInt(btn.getAttribute('data-id'));
          const song = allSongs.find(s => s.id === songId);
          if (song) {
            currentPlaylist = songs;
            currentSongIndex = songs.findIndex(s => s.id === songId);
            loadSong(song);
            playSong();
          }
        });
      });

      // Adicionar evento de clique para curtir
      container.querySelectorAll('.like-song-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.stopPropagation();
          const songId = parseInt(btn.getAttribute('data-id'));
          toggleSongLike(songId);
          // Atualizar o ícone na lista
          const icon = btn.querySelector('i');
          if (likedSongs.includes(songId)) {
            icon.className = 'fas fa-heart';
            icon.style.color = 'var(--success)';
          } else {
            icon.className = 'far fa-heart';
            icon.style.color = '';
          }
        });
      });

      // Adicionar evento de clique para adicionar à playlist
      container.querySelectorAll('.add-to-playlist-btn').forEach(btn => {
        btn.addEventListener('click', (e) => {
          e.stopPropagation();
          songToAdd = parseInt(btn.getAttribute('data-id'));
          renderPlaylistSelectModal();
          playlistSelectModal.classList.add('show');
        });
      });
    }

    // Função para renderizar a página de músicas curtidas
    function renderLikedSongsPage() {
      const likedSongsData = allSongs.filter(song => likedSongs.includes(song.id));
      renderSongList(likedSongsList, likedSongsData);
      updateLikedSongsCount();
    }

    // Funções do Player
    function loadSong(song) {
      audioPlayer.src = song.src;
      playerImg.src = song.image;
      playerImg.alt = song.title;
      playerTitle.textContent = song.title;
      playerArtist.textContent = song.artist;
      updateLikeButton(song.id);
      audioPlayer.load();
    }

    function playSong() {
      audioPlayer.play();
      isPlaying = true;
      playPauseBtn.querySelector('i').className = 'fas fa-pause';
      playPauseBtn.setAttribute('aria-label', 'Pausar');
    }

    function pauseSong() {
      audioPlayer.pause();
      isPlaying = false;
      playPauseBtn.querySelector('i').className = 'fas fa-play';
      playPauseBtn.setAttribute('aria-label', 'Reproduzir');
    }

    function prevSong() {
      if (currentSongIndex > 0) {
        currentSongIndex--;
      } else {
        currentSongIndex = currentPlaylist.length - 1; // Volta para a última
      }
      loadSong(currentPlaylist[currentSongIndex]);
      playSong();
    }

    function nextSong() {
      if (currentSongIndex < currentPlaylist.length - 1) {
        currentSongIndex++;
      } else {
        currentSongIndex = 0; // Volta para a primeira
      }
      loadSong(currentPlaylist[currentSongIndex]);
      playSong();
    }

    function togglePlayPause() {
      if (currentSongIndex === -1 && currentPlaylist.length > 0) {
        currentSongIndex = 0;
        loadSong(currentPlaylist[currentSongIndex]);
      }

      if (currentSongIndex === -1) return;

      if (isPlaying) {
        pauseSong();
      } else {
        playSong();
      }
    }

    // Eventos do Player
    playPauseBtn.addEventListener('click', togglePlayPause);
    prevBtn.addEventListener('click', prevSong);
    nextBtn.addEventListener('click', nextSong);

    audioPlayer.addEventListener('loadedmetadata', () => {
      durationEl.textContent = formatTime(audioPlayer.duration);
    });

    audioPlayer.addEventListener('timeupdate', () => {
      const progress = (audioPlayer.currentTime / audioPlayer.duration) * 100;
      progressFill.style.width = `${progress}%`;
      currentTimeEl.textContent = formatTime(audioPlayer.currentTime);
    });

    audioPlayer.addEventListener('ended', () => {
      if (isRepeated) {
        playSong(); // Repete a música atual
      } else {
        nextSong();
      }
    });

    progressBar.addEventListener('click', (e) => {
      const width = progressBar.clientWidth;
      const clickX = e.offsetX;
      const duration = audioPlayer.duration;
      audioPlayer.currentTime = (clickX / width) * duration;
    });

    volumeBar.addEventListener('click', (e) => {
      const width = volumeBar.clientWidth;
      const clickX = e.offsetX;
      const newVolume = clickX / width;
      audioPlayer.volume = newVolume;
      currentVolume = newVolume;
      localStorage.setItem('volume', currentVolume);
      updateVolumeBar();
      updateVolumeIcon();
    });

    function updateVolumeBar() {
      volumeFill.style.width = `${audioPlayer.volume * 100}%`;
    }

    function updateVolumeIcon() {
      const icon = volumeIcon.querySelector('i');
      if (audioPlayer.volume === 0) {
        icon.className = 'fas fa-volume-mute';
      } else if (audioPlayer.volume < 0.5) {
        icon.className = 'fas fa-volume-down';
      } else {
        icon.className = 'fas fa-volume-up';
      }
    }

    volumeIcon.addEventListener('click', () => {
      if (audioPlayer.volume > 0) {
        audioPlayer.volume = 0;
      } else {
        audioPlayer.volume = currentVolume;
      }
      updateVolumeBar();
      updateVolumeIcon();
    });

    // Funções de Utilitário
    function formatTime(seconds) {
      const minutes = Math.floor(seconds / 60);
      const remainingSeconds = Math.floor(seconds % 60);
      return `${minutes}:${remainingSeconds < 10 ? '0' : ''}${remainingSeconds}`;
    }

    // Funções de Controle
    shuffleBtn.addEventListener('click', () => {
      isShuffled = !isShuffled;
      shuffleBtn.style.color = isShuffled ? 'var(--primary)' : '';
      // Lógica de embaralhamento da playlist (a ser implementada)
    });

    repeatBtn.addEventListener('click', () => {
      isRepeated = !isRepeated;
      repeatBtn.style.color = isRepeated ? 'var(--primary)' : '';
    });

    // Alternar like da música atual
    function toggleLike() {
      if (currentSongIndex === -1) return;
      
      const currentSong = currentPlaylist[currentSongIndex];
      toggleSongLike(currentSong.id);
    }

    // Alternar like de uma música específica
    function toggleSongLike(songId) {
      const index = likedSongs.indexOf(songId);
      if (index === -1) {
        likedSongs.push(songId);
      } else {
        likedSongs.splice(index, 1);
      }
      
      // Salvar no localStorage
      localStorage.setItem('likedSongs', JSON.stringify(likedSongs));
      
      updateLikeButton(songId);
      updateLikedSongsCount();
      
      // Se estamos na página de músicas curtidas, atualizar a lista
      if (currentPage === 'liked-songs') {
        renderLikedSongsPage();
      }
    }

    // Atualizar botão de like
    function updateLikeButton(songId) {
      const icon = likeBtn.querySelector('i');
      if (likedSongs.includes(songId)) {
        icon.className = 'fas fa-heart';
        likeBtn.style.color = 'var(--success)';
      } else {
        icon.className = 'far fa-heart';
        likeBtn.style.color = '';
      }
    }

    // Atualizar contador de músicas curtidas
    function updateLikedSongsCount() {
      likedSongsCount.textContent = `${likedSongs.length} ${likedSongs.length === 1 ? 'música' : 'músicas'}`;
    }

    // Mostrar letras
    function showLyrics() {
      if (currentSongIndex === -1) {
        lyricsTitle.textContent = 'Letra não disponível';
        lyricsText.textContent = 'Selecione uma música com letra disponível';
        lyricsModal.classList.add('show');
        return;
      }
      
      const currentSong = currentPlaylist[currentSongIndex];
      lyricsTitle.textContent = `${currentSong.title} - ${currentSong.artist}`;
      
      if (Array.isArray(currentSong.lyrics)) {
        lyricsText.innerHTML = currentSong.lyrics.map(line => `<p data-time="${line.time}">${line.text}</p>`).join('');
        lyricsModal.classList.add('show');
        
        // Sincronizar letras
        audioPlayer.addEventListener('timeupdate', syncLyrics);
      } else {
        lyricsText.textContent = currentSong.lyrics || 'Letra não disponível';
        lyricsModal.classList.add('show');
      }
    }

    // Ocultar letras
    function hideLyrics() {
      lyricsModal.classList.remove('show');
      audioPlayer.removeEventListener('timeupdate', syncLyrics);
    }

    // Sincronizar letras
    function syncLyrics() {
      const currentSong = currentPlaylist[currentSongIndex];
      if (!Array.isArray(currentSong.lyrics)) return;
      
      const currentTime = audioPlayer.currentTime;
      const lyricsLines = lyricsText.querySelectorAll('p');
      
      lyricsLines.forEach(line => {
        const time = parseFloat(line.getAttribute('data-time'));
        if (currentTime >= time && currentTime < time + 5) {
          line.style.color = 'var(--primary)';
          line.scrollIntoView({ behavior: 'smooth', block: 'center' });
        } else {
          line.style.color = '';
        }
      });
    }

    // Eventos de Like e Letras
    likeBtn.addEventListener('click', toggleLike);
    lyricsBtn.addEventListener('click', showLyrics);
    lyricsCloseBtn.addEventListener('click', hideLyrics);

    // Funções de Navegação
    function navigateTo(pageId) {
      pages.forEach(page => {
        page.classList.remove('active');
      });
      navItems.forEach(item => {
        item.classList.remove('active');
      });

      const targetPage = document.getElementById(`${pageId}-page`);
      if (targetPage) {
        targetPage.classList.add('active');
        currentPage = pageId;
      }

      // Ativar item de navegação
      const activeNavItem = document.querySelector(`[data-page="${pageId}"]`);
      if (activeNavItem) {
        activeNavItem.classList.add('active');
      }

      // Lógica de renderização de conteúdo específico
      if (pageId === 'liked-songs') {
        renderLikedSongsPage();
      } else if (pageId === 'relaxing') {
        currentPlaylist = playlists.find(p => p.id === 'relaxing').songs;
        renderSongList(document.getElementById('relaxing-songs-list'), currentPlaylist);
      } else if (pageId === 'workout') {
        currentPlaylist = playlists.find(p => p.id === 'workout').songs;
        renderSongList(document.getElementById('workout-songs-list'), currentPlaylist);
      } else if (pageId === 'animes') {
        currentPlaylist = playlists.find(p => p.id === 'animes').songs;
        renderSongList(document.getElementById('animes-songs-list'), currentPlaylist);
      }
    }

    navItems.forEach(item => {
      item.addEventListener('click', () => {
        const pageId = item.getAttribute('data-page');
        if (pageId) {
          navigateTo(pageId);
          // Fechar sidebar no mobile
          if (window.innerWidth <= 768) {
            sidebar.classList.remove('open');
          }
        }
      });
    });

    // Evento de clique nos cards
    mainContent.addEventListener('click', (e) => {
      const card = e.target.closest('.card');
      if (card) {
        const type = card.getAttribute('data-type');
        const id = parseInt(card.getAttribute('data-id'));

        if (type === 'playlist' || type === 'album') {
          // Simular navegação para a página da playlist/álbum
          alert(`Navegar para ${type}: ${card.querySelector('.card-title').textContent}`);
        } else if (type === 'artist') {
          // Simular navegação para a página do artista
          alert(`Navegar para Artista: ${card.querySelector('.card-title').textContent}`);
        }
      }
    });

    // Evento de clique no botão de reproduzir músicas curtidas
    playLikedSongsBtn.addEventListener('click', () => {
      const likedSongsData = allSongs.filter(song => likedSongs.includes(song.id));
      if (likedSongsData.length > 0) {
        currentPlaylist = likedSongsData;
        currentSongIndex = 0;
        loadSong(currentPlaylist[currentSongIndex]);
        playSong();
      }
    });

    // Funções de Tema
    function toggleTheme() {
      body.classList.toggle('light-theme');
      if (body.classList.contains('light-theme')) {
        localStorage.setItem('theme', 'light');
      } else {
        localStorage.removeItem('theme');
      }
      updateThemeToggleIcon();
    }

    function updateThemeToggleIcon() {
      const iconSidebar = themeToggleSidebar.querySelector('i');
      const iconPlayer = themeTogglePlayer.querySelector('i');
      if (body.classList.contains('light-theme')) {
        iconSidebar.className = 'fas fa-sun';
        iconPlayer.className = 'fas fa-sun';
      } else {
        iconSidebar.className = 'fas fa-moon';
        iconPlayer.className = 'fas fa-moon';
      }
    }

    themeToggleSidebar.addEventListener('click', toggleTheme);
    themeTogglePlayer.addEventListener('click', toggleTheme);

    // Funções de Responsividade
    menuToggle.addEventListener('click', () => {
      sidebar.classList.toggle('open');
    });

    // Funções do Modal de Seleção de Playlist
    function renderPlaylistSelectModal() {
      const availablePlaylists = playlists.filter(p => p.id !== 'liked-songs'); // Exclui Músicas Curtidas
      
      playlistSelectList.innerHTML = availablePlaylists.map(p => `
        <div class="playlist-select-item" data-playlist-id="${p.id}">
          <img src="https://github.com/GiCy2210/Musicas/blob/main/Curtidas.jpg?raw=true" alt="${p.name}" loading="lazy">
          <div class="playlist-select-info">
            <div class="playlist-select-name">${p.name}</div>
            <div class="playlist-select-stats">${p.songs.length} músicas</div>
          </div>
        </div>
      `).join('');

      playlistSelectList.querySelectorAll('.playlist-select-item').forEach(item => {
        item.addEventListener('click', () => {
          const playlistId = item.getAttribute('data-playlist-id');
          addSongToPlaylist(songToAdd, playlistId);
          playlistSelectModal.classList.remove('show');
        });
      });
    }

    playlistSelectCloseBtn.addEventListener('click', () => {
      playlistSelectModal.classList.remove('show');
    });

    function addSongToPlaylist(songId, playlistId) {
      const playlist = playlists.find(p => p.id === playlistId);
      const song = allSongs.find(s => s.id === songId);

      if (playlist && song && !playlist.songs.some(s => s.id === songId)) {
        playlist.songs.push(song);
        alert(`Música "${song.title}" adicionada à playlist "${playlist.name}"`);
        // Lógica para salvar a playlist (a ser implementada)
      } else if (playlist && song) {
        alert(`A música "${song.title}" já está na playlist "${playlist.name}"`);
      }
    }

    // Inicializar a navegação para a página inicial
    navigateTo('home');
  </script>
</body>
</html>