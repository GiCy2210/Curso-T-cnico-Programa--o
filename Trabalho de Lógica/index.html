<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MonkeyVibes - Sua Música, Seu Estilo</title>
  <link rel="stylesheet" type="text/css" href="style.css">
  <link rel="preload" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" as="style" onload="this.rel='stylesheet'">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <div class="app-container">
    <!-- Sidebar -->
    <aside class="sidebar" role="navigation" aria-label="Menu principal">
      <div class="logo">
        <img src="https://github.com/GiCy2210/Musicas/blob/main/Monkey.jpg?raw=true" alt="Logo MonkeyVibes" class="logo-img" loading="lazy">
      </div>
      
      <div class="nav-section">
        <div class="nav-title">Navegação</div>
        <div class="nav-item active" data-page="home">
          <i class="fas fa-home"></i>
          <span>Início</span>
        </div>
        <div class="nav-item" data-page="search">
          <i class="fas fa-search"></i>
          <span>Buscar</span>
        </div>
        <div class="nav-item" data-page="library">
          <i class="fas fa-book-open"></i>
          <span>Sua Biblioteca</span>
        </div>
      </div>
      
      <div class="nav-section">
        <div class="nav-title">Minha Biblioteca</div>
        <div class="nav-item" data-page="playlists">
          <i class="fas fa-list"></i>
          <span>Playlists</span>
        </div>
        <div class="nav-item" data-page="albums">
          <i class="fas fa-compact-disc"></i>
          <span>Álbuns</span>
        </div>
        <div class="nav-item" data-page="artists">
          <i class="fas fa-microphone"></i>
          <span>Artistas</span>
        </div>
      </div>
      
      <div class="nav-section">
        <div class="nav-title">Suas Playlists</div>
        <div class="playlist-item" data-page="liked-songs">
          <i class="fas fa-heart" style="color: #ef4444;"></i>
          <span>Músicas Curtidas</span>
        </div>
        <div class="playlist-item" data-page="relaxing">
          <i class="fas fa-leaf" style="color: #10b981;"></i>
          <span>Relaxantes</span>
        </div>
        <div class="playlist-item" data-page="workout">
          <i class="fas fa-dumbbell" style="color: #f59e0b;"></i>
          <span>Academia</span>
        </div>
        <div class="playlist-item" data-page="animes">
          <i class="fas fa-star" style="color: #8b5cf6;"></i>
          <span>Animes</span>
        </div>
        <div class="playlist-item" data-page="create-playlist">
          <i class="fas fa-plus"></i>
          <span>Criar Playlist</span>
        </div>
      </div>

      <!-- Botão de alternar tema -->
      <div class="nav-section">
        <div class="nav-item theme-toggle">
          <i class="fas fa-moon"></i>
          <span>Alternar Tema</span>
        </div>
      </div>
    </aside>

    <!-- Conteúdo Principal -->
    <main class="main-content">
      <!-- Página Início -->
      <div class="page active" id="home-page">
        <!-- Seção de Destaques -->
        <section class="section">
          <div class="section-header">
            <h2 class="section-title">Destaques</h2>
            <div class="view-all" data-section="featured">Ver tudo</div>
          </div>
          
          <div class="card-grid" id="featured-content">
            <!-- Conteúdo gerado por JavaScript -->
          </div>
        </section>
        
        <!-- Seção de Álbuns Recentes -->
        <section class="section">
          <div class="section-header">
            <h2 class="section-title">Álbuns Recentes</h2>
            <div class="view-all" data-section="recent-albums">Ver tudo</div>
          </div>
          
          <div class="card-grid" id="recent-albums">
            <!-- Conteúdo gerado por JavaScript -->
          </div>
        </section>
        
        <!-- Seção de Artistas Populares -->
        <section class="section">
          <div class="section-header">
            <h2 class="section-title">Artistas em Alta</h2>
            <div class="view-all" data-section="popular-artists">Ver tudo</div>
          </div>
          
          <div class="card-grid" id="popular-artists">
            <!-- Conteúdo gerado por JavaScript -->
          </div>
        </section>
      </div>

      <!-- Página de Busca -->
      <div class="page" id="search-page">
        <div class="search-container">
          <i class="fas fa-search search-icon"></i>
          <input type="text" class="search-input" placeholder="O que você quer ouvir?" id="search-input">
        </div>

        <div class="filters">
          <button class="filter-btn active">Tudo</button>
          <button class="filter-btn">Músicas</button>
          <button class="filter-btn">Álbuns</button>
          <button class="filter-btn">Artistas</button>
          <button class="filter-btn">Playlists</button>
        </div>

        <div class="section">
          <h2 class="section-title">Resultados da busca</h2>
          <div class="card-grid" id="search-results">
            <!-- Resultados da busca serão exibidos aqui -->
          </div>
        </div>

        <div class="section">
          <h2 class="section-title">Artistas</h2>
          <div class="card-grid" id="search-artists">
            <!-- Artistas encontrados na busca -->
          </div>
        </div>
      </div>

      <!-- Página de Biblioteca -->
      <div class="page" id="library-page">
        <section class="section">
          <h2 class="section-title">Sua Biblioteca</h2>
          
          <div class="filters">
            <button class="filter-btn active">Playlists</button>
            <button class="filter-btn">Álbuns</button>
            <button class="filter-btn">Artistas</button>
            <button class="filter-btn">Músicas</button>
          </div>

          <div class="card-grid" id="library-content">
            <!-- Conteúdo da biblioteca será exibido aqui -->
          </div>
        </section>
      </div>

      <!-- Página de Playlists -->
      <div class="page" id="playlists-page">
        <section class="section">
          <h2 class="section-title">Suas Playlists</h2>
          
          <div class="card-grid" id="playlists-content">
            <!-- Playlists do usuário serão exibidas aqui -->
          </div>
        </section>
      </div>

      <!-- Página de Álbuns -->
      <div class="page" id="albums-page">
        <section class="section">
          <h2 class="section-title">Seus Álbuns</h2>
          
          <div class="card-grid" id="albums-content">
            <!-- Álbuns do usuário serão exibidos aqui -->
          </div>
        </section>
      </div>

      <!-- Página de Artistas -->
      <div class="page" id="artists-page">
        <section class="section">
          <h2 class="section-title">Seus Artistas</h2>
          
          <div class="card-grid" id="artists-content">
            <!-- Artistas seguidos pelo usuário serão exibidos aqui -->
          </div>
        </section>
      </div>

      <!-- Página de Músicas Curtidas -->
      <div class="page" id="liked-songs-page">
        <div class="playlist-header">
          <img src="https://github.com/GiCy2210/Musicas/blob/main/Curtidas.jpg?raw=true" alt="Músicas Curtidas" class="playlist-image" loading="lazy">
          <div class="playlist-info">
            <div class="playlist-type">Playlist</div>
            <h1 class="playlist-title">Músicas Curtidas</h1>
            <p class="playlist-description">Suas músicas favoritas de todos os tempos</p>
            <div class="playlist-stats">
              <span>MonkeyVibes</span>
              <span>•</span>
              <span id="liked-songs-count">0 músicas</span>
            </div>
            <div class="playlist-actions">
              <button class="btn" id="play-liked-songs">
                <i class="fas fa-play"></i>
                Reproduzir
              </button>
              <button class="btn-outline" id="sort-liked-songs">
                <i class="fas fa-sort"></i>
                Ordenar
              </button>
              <button class="btn-outline" onclick="editPlaylist('playlist1')">
                <i class="fas fa-edit"></i>
                Editar
              </button>
            </div>
          </div>
        </div>

        <div class="song-list" id="liked-songs-list">
          <!-- Lista de músicas curtidas será exibida aqui -->
        </div>
      </div>

      <!-- Página Para Relaxar -->
      <div class="page" id="relaxing-page">
        <div class="playlist-header">
          <img src="https://github.com/GiCy2210/Musicas/blob/main/Curtidas.jpg?raw=true" alt="Para Relaxar" class="playlist-image" loading="lazy">
          <div class="playlist-info">
            <div class="playlist-type">Playlist</div>
            <h1 class="playlist-title">Relaxantes</h1>
            <p class="playlist-description">Músicas calmas para relaxar e desestressar</p>
            <div class="playlist-stats">
              <span>MonkeyVibes</span>
              <span>•</span>
              <span>12 músicas</span>
            </div>
            <div class="playlist-actions">
              <button class="btn" id="play-relaxing">
                <i class="fas fa-play"></i>
                Reproduzir
              </button>
              <button class="btn-outline" id="sort-relaxing">
                <i class="fas fa-sort"></i>
                Ordenar
              </button>
              <button class="btn-outline" onclick="editPlaylist('playlist2')">
                <i class="fas fa-edit"></i>
                Editar
              </button>
            </div>
          </div>
        </div>

        <div class="song-list" id="relaxing-songs-list">
          <!-- Lista de músicas para relaxar será exibida aqui -->
        </div>
      </div>

      <!-- Página Treino Energético -->
      <div class="page" id="workout-page">
        <div class="playlist-header">
          <img src="https://github.com/GiCy2210/Musicas/blob/main/Academia.jpg?raw=true" alt="Academia" class="playlist-image" loading="lazy">
          <div class="playlist-info">
            <div class="playlist-type">Playlist</div>
            <h1 class="playlist-title">Academia</h1>
            <p class="playlist-description">Músicas animadas para dar energia no seu treino</p>
            <div class="playlist-stats">
              <span>MonkeyVibes</span>
              <span>•</span>
              <span>15 músicas</span>
            </div>
            <div class="playlist-actions">
              <button class="btn" id="play-workout">
                <i class="fas fa-play"></i>
                Reproduzir
              </button>
              <button class="btn-outline" id="sort-workout">
                <i class="fas fa-sort"></i>
                Ordenar
              </button>
              <button class="btn-outline" onclick="editPlaylist('playlist3')">
                <i class="fas fa-edit"></i>
                Editar
              </button>
            </div>
          </div>
        </div>
        
        <div class="song-list" id="workout-songs-list">
          <!-- Lista de músicas para treino será exibida aqui -->
        </div>
      </div>

      <!-- Página Animes -->
      <div class="page" id="animes-page">
        <div class="playlist-header">
          <img src="https://github.com/GiCy2210/Musicas/blob/main/Animes.jpg?raw=true" alt="Animes" class="playlist-image" loading="lazy">
          <div class="playlist-info">
            <div class="playlist-type">Playlist</div>
            <h1 class="playlist-title">Animes</h1>
            <p class="playlist-description">Músicas de animes</p>
            <div class="playlist-stats">
              <span>MonkeyVibes</span>
              <span>•</span>
              <span>2 músicas</span>
            </div>
            <div class="playlist-actions">
              <button class="btn" id="play-animes">
                <i class="fas fa-play"></i>
                Reproduzir
              </button>
              <button class="btn-outline" id="sort-animes">
                <i class="fas fa-sort"></i>
                Ordenar
              </button>
              <button class="btn-outline" onclick="editPlaylist('playlist4')">
                <i class="fas fa-edit"></i>
                Editar
              </button>
            </div>
          </div>
        </div>
        
        <div class="song-list" id="animes-songs-list">
          <!-- Lista de músicas para animes será exibida aqui -->
        </div>
      </div>

      <!-- Página de Detalhes do Álbum -->
      <div class="page" id="album-detail-page">
        <div class="album-header">
          <img src="" alt="Capa do Álbum" class="album-image" id="album-detail-image" loading="lazy">
          <div class="album-info">
            <div class="album-type">Álbum</div>
            <h1 class="album-title" id="album-detail-title"></h1>
            <p class="album-description" id="album-detail-artist"></p>
            <div class="album-stats">
              <span id="album-detail-year"></span>
              <span>•</span>
              <span id="album-detail-songs-count"></span>
            </div>
            <div class="album-actions">
              <button class="btn" id="play-album">
                <i class="fas fa-play"></i>
                Reproduzir
              </button>
              <button class="btn-outline" id="shuffle-album">
                <i class="fas fa-random"></i>
                Embaralhar
              </button>
            </div>
          </div>
        </div>
        
        <div class="song-list" id="album-songs-list">
          <!-- Lista de músicas do álbum será exibida aqui -->
        </div>
      </div>

      <!-- Página de Detalhes da Playlist -->
      <div class="page" id="playlist-detail-page">
        <div class="playlist-header">
          <img src="" alt="Capa da Playlist" class="playlist-image" id="playlist-detail-image" loading="lazy">
          <div class="playlist-info">
            <div class="playlist-type">Playlist</div>
            <h1 class="playlist-title" id="playlist-detail-title"></h1>
            <p class="playlist-description" id="playlist-detail-description"></p>
            <div class="playlist-stats">
              <span id="playlist-detail-owner"></span>
              <span>•</span>
              <span id="playlist-detail-songs-count"></span>
            </div>
            <div class="playlist-actions">
              <button class="btn" id="play-playlist-detail">
                <i class="fas fa-play"></i>
                Reproduzir
              </button>
              <button class="btn-outline" id="sort-playlist-detail">
                <i class="fas fa-sort"></i>
                Ordenar
              </button>
            </div>
          </div>
        </div>
        
        <div class="song-list" id="playlist-detail-songs-list">
          <!-- Lista de músicas da playlist será exibida aqui -->
        </div>
      </div>

      <!-- Página Criar Playlist -->
      <div class="page" id="create-playlist-page">
        <section class="section">
          <h2 class="section-title">Criar Playlist</h2>
          
          <div class="card" style="max-width: 600px; margin: 0 auto;">
            <div class="card-content">
              <h3 class="card-title">Nova Playlist</h3>
              <form id="create-playlist-form">
                <div style="margin-bottom: 1.5rem;">
                  <label for="playlist-name" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Nome da Playlist</label>
                  <input type="text" id="playlist-name" class="search-input" placeholder="Digite um nome" style="width: 100%;">
                </div>
                
                <div style="margin-bottom: 1.5rem;">
                  <label for="playlist-description" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Descrição (opcional)</label>
                  <textarea id="playlist-description" class="search-input" placeholder="Descreva sua playlist" rows="3" style="width: 100%; resize: vertical;"></textarea>
                </div>
                
                <button type="submit" class="btn" style="width: 100%;">
                  <i class="fas fa-plus"></i>
                  Criar Playlist
                </button>
              </form>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- Player de Música -->
    <div class="player" role="region" aria-label="Controles do player de música">
      <div class="song-info">
        <img src="https://cdn.pixabay.com/photo/2016/11/19/15/34/album-1838783_1280.png" alt="Capa do Álbum" class="player-img" id="player-img" loading="lazy">
        <div class="player-details">
          <div class="player-title" id="player-title">Nenhuma música selecionada</div>
          <div class="player-artist" id="player-artist">Selecione uma música para começar</div>
        </div>
      </div>
      
      <div class="player-controls">
        <div class="control-buttons">
          <button class="control-btn" id="shuffle-btn" aria-label="Ativar modo aleatório">
            <i class="fas fa-random" aria-hidden="true"></i>
          </button>
          <button class="control-btn" id="prev-btn" aria-label="Tocar música anterior">
            <i class="fas fa-step-backward" aria-hidden="true"></i>
          </button>
          <button class="control-btn play-btn" id="play-btn" aria-label="Tocar ou pausar música">
            <i class="fas fa-play" aria-hidden="true"></i>
          </button>
          <button class="control-btn" id="next-btn" aria-label="Tocar próxima música">
            <i class="fas fa-step-forward" aria-hidden="true"></i>
          </button>
          <button class="control-btn" id="repeat-btn" aria-label="Ativar repetição">
            <i class="fas fa-redo" aria-hidden="true"></i>
          </button>
        </div>
        
        <div class="progress-container">
          <div class="progress-time" id="current-time">0:00</div>
          <div class="progress-bar" id="progress-bar">
            <div class="progress-fill" id="progress-fill"></div>
          </div>
          <div class="progress-time" id="total-time">0:00</div>
        </div>
      </div>
      
      <div class="player-options">
        <button class="control-btn" id="lyrics-btn" aria-label="Mostrar letras">
          <i class="fas fa-file-alt" aria-hidden="true"></i>
        </button>
        <button class="control-btn" id="like-btn" aria-label="Curtir música">
          <i class="far fa-heart" aria-hidden="true"></i>
        </button>
        <div class="volume-container">
          <button class="control-btn" id="volume-btn" aria-label="Ajustar volume">
            <i class="fas fa-volume-up" aria-hidden="true"></i>
          </button>
          <div class="volume-bar" id="volume-bar">
            <div class="volume-fill" id="volume-fill"></div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modal de Letras -->
    <div class="modal" id="lyrics-modal">
      <div class="modal-content">
        <button class="modal-close" id="modal-close">
          <i class="fas fa-times"></i>
        </button>
        <h3 class="modal-title" id="lyrics-title">Letra da Música</h3>
        <p class="modal-text" id="lyrics-text">Selecione uma música para ver a letra</p>
      </div>
    </div>

    <!-- Modal de Seleção de Playlist -->
    <div class="playlist-select-modal" id="playlist-select-modal">
      <div class="playlist-select-content">
        <button class="modal-close" id="playlist-select-close">
          <i class="fas fa-times"></i>
        </button>
        <h3 class="playlist-select-title" id="playlist-select-title">Adicionar à playlist</h3>
        <div class="playlist-select-list" id="playlist-select-list">
          <!-- Lista de playlists será preenchida via JavaScript -->
        </div>
        <button class="btn" id="create-new-playlist-btn">
          <i class="fas fa-plus"></i>
          Criar nova playlist
        </button>
      </div>
    </div>

    <!-- Botão de Menu para Mobile -->
    <button class="menu-toggle" id="menu-toggle">
      <i class="fas fa-bars"></i>
    </button>

    <!-- Elemento de Áudio -->
    <audio id="audio-player"></audio>
  </div>

  <script>
    // Carregar musicData do localStorage ou usar dados padrão
    const musicData = JSON.parse(localStorage.getItem('musicData')) || {
      albums: [
        {
          id: 'album1',
          title: 'Temari',
          artist: '7 minutoz',
          cover: 'https://github.com/GiCy2210/Musicas/blob/main/Temari.jpg?raw=true',
          year: '2023',
          songs: [ 
            {
            id: 'song1', 
              title: 'Temari', 
              artist: '7 minutoz', 
              file: 'https://github.com/GiCy2210/music/raw/refs/heads/main/Temari%20-%207%20Minutoz.mp3', 
              duration: '4:05',
              lyrics: [
                { time: 0, text: 'Isso é Minutoz, baby!' },
                { time: 5, text: 'Oi, Temari, né?' },
                { time: 10, text: 'Eu aprendi que se apaixonar por alguém' },
                // ... adicionar mais linhas com timestamps
              ]
            },
            {
            id: 'song2', 
              title: 'Pirata', 
              artist: '7 minutoz', 
              file: 'https://github.com/GiCy2210/music/raw/refs/heads/main/PIRATA%20-%207%20Minutoz.mp3', 
              duration: '2:50',
              lyrics: 'Quando o bando chega não tem conversa\nYohô, yohô\nE a vila inteira sabe da festa\nYohô, yohô\n\nNão sei se pintou um clima ou foi só cachaça\nSe foi um tipo de magia que foi conjurada\nMas antes que a última canção fosse terminada, você\n\nSe apaixonou num pirata\nDaqueles que não ligam pro amor, só pro ouro\nBrigando no mar, fazendo amor no tesouro\nE você\nSe apaixonou num pirata\nOs canhões com a batida fazem tac-tudum\nA música e o beijo tem um toque de rum\nSe os dois não valem nada\nÉ um amor de pirata\n\nEra você o tesouro que eu tinha que encontrar\nFoi em você que eu achei o X do meu mapa (yeah)\n\nPede que eu faço, aqui é você que manda, você que manda\nSe você quiser eu boto\nPra andar na prancha, andar na prancha\n\nPrata é a cor e 38 é o calibre\nSentindo o calor do nosso amor e do Caribe\nCada praia desse mundo pra gente se envolver\nPor isso você\n\nSe apaixonou num pirata\nDaqueles que não ligam pro amor, só pro ouro\nBrigando no mar, fazendo amor no tesouro\nE você\nSe apaixonou num pirata\nOs canhões com a batida fazem tac-tudum\nA música e o beijo tem um toque de rum\nSe os dois não valem nada\nÉ um amor de pirata\n\nPra sua paixão (sua paixão)\nQual a direção? (Qual a direção?)\nMe diga se é pro norte ou sul\nÉ que meu coração (é que meu coração)\nSofreu uma maldição (sofre uma maldição)\nE foi trancado dentro de um baú\n\nTe encontrei de uma forma holística (holística)\nVocê é uma criatura mística (criatura mística)\nAté tirar meu ar\nMe falam do seu mar\nÉ aí que eu voy nadar\n\nO que você fez nos últimos verões?\nE alguma vez surfou com tubarões?\nMesmo sendo um pirata, afinal\nJuro que esse amor é original\n\nVem cá e verá\nA minha bandeira de caveira\nMeu bando vai zarpar ao anoitecer\nMas antes disso eu sei que você\n\nSe apaixonou num pirata\nDaqueles que não ligam pro amor, só pro ouro\nBrigando no mar, fazendo amor no tesouro\nE você\nSe apaixonou num pirata\nOs canhões com a batida fazem tac-tudum\nA música e o beijo tem um toque de rum\nSe os dois não valem nada\nÉ um amor de pirata'
            }
          ]
        },
        {
          id: 'album2',
          title: 'Girls Just Want To Have Fun',
          artist: 'Cyndi Lauper',
          cover: 'https://github.com/GiCy2210/Musicas/blob/main/Mentira.png?raw=true',
          year: '1983',
          songs: [
            { 
              id: 'song3', 
              title: 'Girls Just Want To Have Fun', 
              artist: 'Cyndi Lauper', 
              file: 'https://github.com/GiCy2210/music/raw/refs/heads/main/Girls%20Just%20Want%20to%20Have%20Fun%20-%20Cyndi%20Lauper%20(1).mp3', 
              duration: '4:26',
              lyrics: `I come home, in the mornin' light\nMy mother says, "When you gonna live your life right?"\nOh momma dear, we're not the fortunate ones\nAnd girls, they wanna have fun\nOh girls just wanna have fun\n\nThe phone rings, in the middle of the night\nMy father yells, "What you gonna do with your life?"\nOh daddy dear, you know you're still number one\nBut girls, they wanna have fun\nOh girls just wanna have\n\nThat's all they really want\nSome fun\nWhen the workin' day is done\nOh girls, they wanna have fun\nOh girls just wanna have fun (girls, they want)\n(Wanna have fun, girls)\n(Wanna have)\n\nSome boys take a beautiful girl\nAnd hide her away from the rest o' the world\nI wanna be the one to walk in the sun\nOh girls, they wanna have fun\nOh girls just wanna have\n\nThat's all they really want\nIs some fun\nWhen the workin' day is done\nOh girls, they wanna have fun\nOh girls just wanna have fun (girls, they want)\n(Wanna have fun, girls)\n(Wanna have)\n\nThey just want, they just wanna (girls)\nThey just want, they just wanna (girls just wanna have fun)\nOh girls, girls just wanna have fun\n(Just want, they just wanna)\nThey just wanna, they just wanna (girls)\nThey just want, they just wanna (girls just wanna have fun)\nOh girls, girls just wanna have fun\n\nWhen the workin'\nWhen the workin' day is done\nOh, when the workin' day is done\nOh, girls, girls just wanna have fun\nEverybody\nHuh, huh\n\nThey just want, they just wanna (girls)\nThey just want, they just wanna (girls just wanna have fun)\nOh, girls, girls just wanna have fun\n(They just wanna, they just wanna) when the workin'\nWhen the working day is done (they just want, they just wanna)\nOh, when the working day is done (girls, girls just wanna have fun)\nOh girls, girls just wanna have fun` 
            },
            {
              id: 'song4', 
              title: 'Money Changes Everything', 
              artist: 'Cyndi Lauper', 
              file: 'https://github.com/GiCy2210/music/raw/refs/heads/main/Money%20Changes%20Everything%20-%20Cyndi%20Lauper.mp3', 
              duration: '4:55 ',
              lyrics: `She said, I'm sorry, baby, I'm leaving you tonight\nI found someone new, he's waitin' in the car outside\nAh honey, how could you do it\nWe swore each other everlasting love\nShe said, well yeah, I know, but when we did\nThere was one thing we weren't really thinking of and that's money\n\nMoney changes everything\nI said money, money changes everything\nWe think we know what we're doin'\nThat don't mean a thing\nIt's all in the past now\nMoney changes everything\n\nThey shake your hand and they smile\nAnd they buy you a drink\nThey say, we'll be your friends\nWe'll stick with you till the end\nAh, but everybody's only looking out for themselves\nAnd you say, well, who can you trust\nI'll tell you, it's just nobody else's money\n\nMoney changes everything\nI said money, money changes everything\nYa think ya know what ya doin'\nWe don't hold the strings\nIt's all in the past now\nMoney changes everything\n\nYeah, yeah, yeah\nMoney, Money changes everything\nI said money, money changes everything\nWe think we know what we're doing\nWe don't know a thing\nIt's all in the past now\nMoney changes everything\n\nHey, yeah, yeah\nMoney changes everything\nMoney changes everything now\nMoney changes everything\nMoney changes everything\nMoney changes everything\nMoney` 
            }
          ]
        },
        {
          id: 'album3',
          title: 'A última dança',
          artist: 'Link do Zap',
          cover: 'https://github.com/GiCy2210/Musicas/blob/main/Uauaaoajd.jpg?raw=true',
          year: '2023',
          songs: [
            { 
              id: 'song5', 
              title: 'A última dança', 
              artist: 'Link do Zap', 
              file: 'https://github.com/GiCy2210/music/raw/refs/heads/main/a%20%C3%BAltima%20dan%C3%A7a%20-%20Link%20do%20Zap.mp3', 
              duration: '2:12',
              lyrics: `Ainda não dance como se não fosse minha\n(Impressionante)\nAinda não dance como se não fosse minha\nEu sei que o problema sou eu\n\nAmor, eu sei que a culpa é minha\nMas por favor ainda não dance, como se não fosse minha\nMas por favor ainda não dance, como se não fosse minha\nMinha (minha)\nMinha (minha)\n\nAinda não dance como se não fosse minha\nMinha (minha)\nMinha (minha)\nAinda não dance como se não fosse minha\n\nEu sabia ia ser nossa ultima dança (nossa ultima dança)\nFoi embora sem eu ver igual a minha infância\nSó me liga quando ela quer transa\nDeu saudade, então ela me chama\n\Deve ser tão triste dançar nos braços de quem não te ama\nDormir em outros lugares e lembrar da minha cama\nPediu meu último pedaço e eu te disse, "toma"\nGarota 'cê tá em pedaços por que ainda se apaixona?\n\O amor exige muito\nE você não tem nada (tem nada)\Nada (tem nada)\nNada (tem nada)\n\nEntão pela última vez eu te digo garota\nDance\nDance\n\nSó não dance como se não fosse\nMinha (minha)\nMinha (minha)\nMinha\n\nAinda não dance como se não fosse\nMinha (minha)\nMinha (minha)\nMinha\n\nAinda não dance como se não fosse minha`
            }
          ]
        },
        {
          id: 'album4',
          title: 'Ragatanga',
          artist: 'Rouge',
          cover: 'https://github.com/GiCy2210/Musicas/blob/main/ragatanga.jpg?raw=true',
          year: '2002',
          songs: [
            { 
              id: 'song6', 
              title: 'Ragatanga', 
              artist: 'Rouge', 
              file: 'https://github.com/GiCy2210/music/raw/refs/heads/main/Ragatanga%20(Asereje)%20-%20Rouge.mp3', 
              duration: '3:18',
              lyrics: `Olha lá quem vem virando a esquina\nVem Diego com toda a alegria, festejando\nCom a lua em seus olhos, roupa de água marinha\nE seu jeito de malandro\nE com magia e pura alma\nEle chega com a dança\nPossuído pelo ritmo ragatanga\n\nE o DJ que já conhece\nToca o som da meia-noite\nPra Diego, a canção mais desejada\nE ele dança, ele curte, ele canta\n\nAserehe ra de re\nDe hebe tu de hebere seibiunouba mahabi\nAn de bugui an de buididipi\n\nAserehe ra de re\nDe hebe tu de hebere seibiunouba mahabi\nAn de bugui an de buididipi\n\nAserehe ra de re\nDe hebe tu de hebere seibiunouba mahabi\nAn de bugui an de buididipi\n\nNão é por acaso que encontro todo dia (todo dia)\nCuando me voy caminhando\nDiego tem sua magía e esta alegria\nRasta, rastafari Afro-cigano\nE com magía e pura alma\nEle chega com a dança\nPossuído pelo ritmo ragatanga\n\E o DJ que já conhece\nToca o som da meia-noite\nPra Diego, a canção mais desejada\nE ele dança, ele curte, ele canta\n\nAserehe ra de re\nDe hebe tu de hebere seibiunouba mahabi\nAn de bugui an de buididipi\n\nAserehe ra de re\nDe hebe tu de hebere seibiunouba mahabi\nAn de bugui an de buididipi\n\nAserehe ra de re\nDe hebe tu de hebere seibiunouba mahabi\nAn de bugui an de buididipi\n\nAserehe ra de re\nDe hebe tu de hebere seibiunouba mahabi\nAn de bugui an de buididipi\n\nAserehe ra de re\nDe hebe tu de hebere seibiunouba mahabi\nAn de bugui an de buididipi\n\nAserehe ra de re\nDe hebe tu de hebere seibiunouba mahabi\nAn de bugui an de buididipi\n\nAserehe ra de re\nDe hebe tu de hebere seibiunouba mahabi\nAn de bugui an de buididipi\n\nAserehe ra de re\nDe hebe tu de hebere seibiunouba mahabi\nAn de bugui an de buididipi\n\nAserehe ra de re\nDe hebe tu de hebere seibiunouba mahabi\nAn de bugui an de buididipi\n\nAserehe ra de re\nDe hebe tu de hebere seibiunouba mahabi\nAn de bugui an de buididipi\n\nAserehe ra de re\nDe hebe tu de hebere seibiunouba mahabi\nAn de bugui an de buididipi\n\nAserehe ra de re` 
            }
          ]
        },
        {
          id: 'album5',
          title: 'Pretty Little Baby',
          artist: 'Connie Francis',
          cover: 'https://github.com/GiCy2210/Musicas/blob/main/hahahahah.jpg?raw=true',
          year: '1958',
          songs: [
            { 
              id: 'song7', 
              title: 'Pretty Little Baby', 
              artist: 'Connie Francis', 
              file: 'https://github.com/GiCy2210/music/raw/refs/heads/main/Pretty%20Little%20Baby%20-%20Connie%20Francis%20(1).mp3', 
              duration: '2:23',
              lyrics: `Minha realidade não é like de Instagram,\nÉ correria, é trampo, é suor na testa.\nCada verso que solto é uma batalha vencida,\nCada passo que dou é uma história escrita.\n\nNão é moda, não é trend, é a vida real,\nDo asfalto quente, da quebrada, do final.\nÉ sobreviver e ainda conseguir sonhar,\nÉ olhar pra cima và nunca desistir de lutar.` 
            }
          ]
        },
        {
          id: 'album6',
          title: 'this is what falling in love feels like',
          artist: 'Jvke',
          cover: 'https://github.com/GiCy2210/Musicas/blob/main/hour.jpg?raw=true',
          year: '2022',
          songs: [
            { 
              id: 'song8', 
              title: 'Golden hour', 
              artist: 'Jvke', 
              file: 'https://github.com/GiCy2210/music/raw/refs/heads/main/golden%20hour%20-%20Jvke.mp3', 
              duration: '3:52',
              lyrics: `It was just two lovers\nSittin' in the car, listening to Blonde\nFallin' for each other\nPink and orange skies, feelin' super childish\nNo Donald Glover\nMissed call from my mother\nLike, "Where you at tonight?" Got no alibi\n\nI was all alone with the love of my life\nShe's got glitter for skin\nMy radiant beam in the night\nI don't need no light to see you\n\nShine\nIt's your golden hour (oh)\nYou slow down time\nIn your golden hour (oh)\n\nWe were just two lovers\nFeet up on the dash, drivin' nowhere fast\nBurnin' through the summer\nRadio on blast, make the moment last\nShe got solar power\nMinutes feel like hours\nShe knew she was the baddest, can you even imagine\nFallin' like I did?\n\nFor the love of my life\nShe's got glow on her face\nA glorious look in her eyes\nMy angel of light\n\nI was all alone with the love of my life\nShe's got glitter for skin\nMy radiant beam in the night\nI don't need no light to see you\n\nShine\nIt's your golden hour (oh)\nYou slow down time\nIn your golden hour (oh)` 
            },
            { 
              id: 'song9', 
              title: 'this is what falling in love feels like', 
              artist: 'Jvke', 
              file: 'https://github.com/GiCy2210/music/raw/refs/heads/main/this%20is%20what%20falling%20in%20love%20feels%20like%20-%20Jvke.mp3', 
              duration: '2:35',
              lyrics: `Feel like sun on my skin\nSo this is love, I know it is\nI know it sounds super cliché\nBut you make me feel some type of way\nThis is falling, falling in love, yeah\n\nMh-mh-mh-mh-mh-mmh, yeah\n\nI got a lot on my mind\nGot some more on my plate\nMy baby got me looking forward to the end of the day\nWhat you say? You and me\nJust forget about the past, throw it in the trash\nWhat you say? You and me\nLive the life we never had like we're never going back\n\nFeel like sun on my skin\nSo this is love, I know it is\nI know it sounds super cliché\nBut you make me feel some type of way\nThis is falling, falling in love\n\nI know it sounds super cliché\nBut you make me feel some type of way\nThis is falling, falling in love (yeah)\nThis is falling, falling in love (ooh)\nThis is falling, falling in love` 
            }
          ]
        },

        {
          id: 'album7',
          title: 'Nobody',
          artist: 'OneRepublic',
          cover: 'https://github.com/GiCy2210/Musicas/blob/main/POI.jpg?raw=true',
          year: '2023',
          songs: [
            { 
              id: 'song10', 
              title: 'Nobody', 
              artist: 'OneRepublic', 
              file: 'https://github.com/GiCy2210/Nosso-1-ano/raw/refs/heads/main/Nobody%20-%20OneRepublic%20(1).mp3', 
              duration: '2:40',
              lyrics: `Nobody, nobody, nobody (ooh)\nNobody, nobody, nobody\nYeah\n\nI'd take the fall\nI got you covered when there's no one at all\nOh, yeah, and I'd stay through the night\nWhen you got demons tryna break through the walls\n\nThere ain't no, no kinda line\nThat I wouldn't cross if you need me to\nYou're out here searchin' for signs\nSo I think it's finally time that you knew\n\nNobody got you the way I do (ooh)\nWhatever demons you're fightin' through\nWhen you need somebody to turn to (ooh)\nNobody got you the way I do, the way I do (woo)\n\nNobody, nobody, nobody (ee-oh)\nGot you the way I do (oh-oh)\nNobody, nobody, nobody (ee-oh)\nNobody got you the way I do, the way I do (yeah, yeah)\n\nWhen you go dark and the night gets so cold\nI'll be on my way to you (oh yeah)\nYou know I ain't tryna lose you, oh, no\nIf you're in Hell, I'll go there too\n\nThere ain't no, no kinda line\nThat I wouldn't cross if you need me to\nYou're out here searchin' for signs\nSo I think it's finally time that you knew\n\nNobody got you the way I do (ooh)\nWhatever demons you're fightin' through\nWhen you need somebody to turn to (ooh)\nNobody got you the way I do, the way I do (woo, I do)\n\nNobody, nobody, nobody (ee-oh)\nGot you the way I do (oh-oh)\nNobody, nobody, nobody (ee-oh)\nNobody got you the way I do, the way, the way, the way I do (woo)\n\nThe way, the way, the way I do (ooh-ooh)\nNobody got you the way I do (woo)\n\nNobody, nobody, nobody (ee-oh)\nGot you the way I do (yeah, yeah, yeah)\nNobody, nobody, nobody (ee-oh)\nNobody got you the way I do, the way I do (woo)\n\nNobody, nobody, nobody (ooh)\nNobody got you the way I do` 
            }
          ]
        },
        {
          id: 'album8',
          title: 'I Wanna Be Yours',
          artist: 'Arctic Monkeys',
          cover: 'https://github.com/GiCy2210/Musicas/blob/main/wanna.jpg?raw=true',
          year: '2013',
          songs: [
            { 
              id: 'song11', 
              title: 'I Wanna Be Yours', 
              artist: 'Arctic Monkeys', 
              file: 'https://github.com/GiCy2210/music/raw/refs/heads/main/I%20Wanna%20Be%20Yours%20-%20Arctic%20Monkeys.mp3', 
              duration: '3:04',
              lyrics: `I wanna be your vacuum cleaner\nBreathing in your dust\nI wanna be your Ford Cortina\nI will never rust\n\nIf you like your coffee hot\nLet me be your coffee pot\nYou call the shots, babe\nI just wanna be yours\n\nSecrets I have held in my heart\nAre harder to hide than I thought\Maybe I just wanna be yours\nI wanna be yours, I wanna be yours\n\nWanna be yours\Wanna be yours\nWanna be yours\n\nLet me be your leccy meter\nAnd I'll never run out\nLet me be the portable heater\nThat you'll get cold without\n\nI wanna be your setting lotion (wanna be)\nHold your hair in deep devotion (How deep?)\nAt least as deep as the Pacific Ocean\nNow I wanna be yours\n\nSecrets I have held in my heart\nAre harder to hide than I thought\nMaybe I just wanna be yours\nI wanna be yours, I wanna be yours\n\nWanna be yours\nWanna be yours\nWanna be yours\nWanna be yours\nWanna be yours\nWanna be yours\nWanna be yours\n(Wanna be yours)\n\nI wanna be your vacuum cleaner (wanna be yours)\nBreathing in your dust (wanna be yours)\nI wanna be your Ford Cortina (wanna be yours)\nI will never rust (wanna be yours)\n\nI just wanna be yours (wanna be yours)\nI just wanna be yours (wanna be yours)\nI just wanna be yours (wanna be yours)` 
            }
          ]
        },
        {
          id: 'album9',
          title: 'Locked out of heaven',
          artist: 'Bruno Mars',
          cover: 'https://github.com/GiCy2210/Musicas/blob/main/download.jpg?raw=true',
          year: '2012',
          songs: [
            { 
              id: 'song12', 
              title: 'Locked out of heaven', 
              artist: 'Bruno Mars', 
              file: 'https://github.com/GiCy2210/music/raw/refs/heads/main/Locked%20out%20of%20Heaven%20-%20Bruno%20Mars.mp3', 
              duration: '3:54',
              lyrics: `One, two, one, two, three\nOh, yeah, yeah\nOh, yeah, yeah, yeah, yeah (ooh)\nOh, yeah, yeah\nOh, yeah, yeah, yeah, yeah (ooh)\n\nNever had much faith in love or miracles (ooh)\nNever wanna put my heart on the line (ooh)\nBut swimmin' in your water's something spiritual (ooh)\nI'm born again every time you spend the night (ooh)\n\n'Cause your sex takes me to paradise\nYeah, your sex takes me to paradise\nAnd it shows\nYeah, yeah, yeah\n\n'Cause you make me feel like\nI've been locked out of heaven\nFor too long, for too long\nYeah, you make me feel like\nI've been locked out of heaven\nFor too long, for too long, oh-oh, oh-oh-oh\n\nOh, yeah, yeah, yeah, yeah (ooh)\nOh, yeah, yeah\nOh, yeah, yeah, yeah, yeah (ooh)\n\nYou bring me to my knees, you make me testify (ooh)\nYou can make a sinner change his ways (ooh)\nOpen up your gates 'cause I can't wait to see the light (ooh)\nAnd right there is where I wanna stay (ooh)\n\n'Cause your sex takes me to paradise\nYeah, your sex takes me to paradise\nAnd it shows\nYeah, yeah, yeah\n\n'Cause you make me feel like\nI've been locked out of heaven\nFor too long, for too long\nYeah, you make me feel like\nI've been locked out of heaven\nFor too long, for too long, oh\n\nOh, whoa, whoa, whoa, yeah, yeah, yeah\nCan I just stay here?\nSpend the rest of my days here?\nOh, whoa, whoa, whoa, yeah, yeah, yeah\nCan I just stay here?\nSpend the rest of my days here?\n\n'Cause you make me feel like\nI've been locked out of heaven\nFor too long, for too long\nYeah, you make me feel like\nI've been locked out of heaven\nFor too long, for too long, oh-oh, oh-oh-oh\n\nOh, yeah, yeah, yeah, yeah (ooh)\nOh, yeah, yeah\nOh, yeah, yeah, yeah, yeah (ooh)` 
            }
          ]
        }
      ],
      artists: [
        {
          id: 'artist1',
          name: '7 minutoz',
          image: 'https://github.com/GiCy2210/Musicas/blob/main/7%20mim.jpg?raw=true',
          followers: '13M'
        },
        {
          id: 'artist2',
          name: 'Cyndi Lauper',
          image: 'https://github.com/GiCy2210/Musicas/blob/main/aiaaaiaaa.jpg?raw=true',
          followers: '1.10M'
        },
        {
          id: 'artist3',
          name: 'Rouge',
          image: 'https://github.com/GiCy2210/Musicas/blob/main/jaja.jpg?raw=true',
          followers: '554k'
        },
        {
          id: 'artist4',
          name: 'Connie Francis',
          image: 'https://github.com/GiCy2210/Musicas/blob/main/pretin.jpg?raw=true',
          followers: '261.2k'
        },
        {
          id: 'artist5',
          name: 'Jvke',
          image: 'https://github.com/GiCy2210/Musicas/blob/main/jvke.jpg?raw=true',
          followers: '3.2M'
        },
        {
          id: 'artist6',
          name: 'Arctic Monkeys',
          image: 'https://github.com/GiCy2210/Musicas/blob/main/i.jpg?raw=true',
          followers: '7.7M'
        },
        {
          id: 'artist7',
          name: 'OneRepublic',
          image: 'https://github.com/GiCy2210/Musicas/blob/main/Aiiiiiiiiiii.jpg?raw=true',
          followers: '3.12M'
        }
      ],
      playlists: [
        {
          id: 'playlist1',
          name: 'Músicas Curtidas',
          description: 'Suas músicas favoritas de todos os tempos',
          image: 'https://github.com/GiCy2210/Musicas/blob/main/Curtidas.jpg?raw=true',
          songs: []
        },
        {
          id: 'playlist2',
          name: 'Relaxantes',
          description: 'Músicas calmas para relaxar e desestressar',
          image: 'https://github.com/GiCy2210/Musicas/blob/main/Relaxar.jpg?raw=true',
          songs: ['song4', 'song6']
        },
        {
          id: 'playlist3',
          name: 'Academia',
          description: 'Músicas animadas para dar energia no seu treino',
          image: 'https://github.com/GiCy2210/Musicas/blob/main/Academia.jpg?raw=true',
          songs: ['song3', 'song5']
        },
        {
          id: 'playlist4',
          name: 'Animes',
          description: 'Músicas animadas para dar energia no seu treino',
          image: 'https://github.com/GiCy2210/Musicas/blob/main/Animes.jpg?raw=true',
          songs: ['song1', 'song7']
        },
      ]
    };
    localStorage.setItem('musicData', JSON.stringify(musicData));

    // Elementos do DOM
    const audioPlayer = document.getElementById('audio-player');
    const playBtn = document.getElementById('play-btn');
    const prevBtn = document.getElementById('prev-btn');
    const nextBtn = document.getElementById('next-btn');
    const shuffleBtn = document.getElementById('shuffle-btn');
    const repeatBtn = document.getElementById('repeat-btn');
    const likeBtn = document.getElementById('like-btn');
    const lyricsBtn = document.getElementById('lyrics-btn');
    const volumeBtn = document.getElementById('volume-btn');
    const menuToggle = document.getElementById('menu-toggle');
    const modalClose = document.getElementById('modal-close');
    const searchInput = document.getElementById('search-input');
    
    const playerImg = document.getElementById('player-img');
    const playerTitle = document.getElementById('player-title');
    const playerArtist = document.getElementById('player-artist');
    const currentTimeEl = document.getElementById('current-time');
    const totalTimeEl = document.getElementById('total-time');
    const progressBar = document.getElementById('progress-bar');
    const progressFill = document.getElementById('progress-fill');
    const volumeBar = document.getElementById('volume-bar');
    const volumeFill = document.getElementById('volume-fill');
    
    const lyricsModal = document.getElementById('lyrics-modal');
    const lyricsTitle = document.getElementById('lyrics-title');
    const lyricsText = document.getElementById('lyrics-text');
    
    const featuredContent = document.getElementById('featured-content');
    const recentAlbums = document.getElementById('recent-albums');
    const popularArtists = document.getElementById('popular-artists');
    const searchResults = document.getElementById('search-results');
    const searchArtists = document.getElementById('search-artists');
    const libraryContent = document.getElementById('library-content');
    const playlistsContent = document.getElementById('playlists-content');
    const albumsContent = document.getElementById('albums-content');
    const artistsContent = document.getElementById('artists-content');
    const likedSongsList = document.getElementById('liked-songs-list');
    const relaxingSongsList = document.getElementById('relaxing-songs-list');
    const workoutSongsList = document.getElementById('workout-songs-list');
    const animesSongsList = document.getElementById('animes-songs-list');
    const likedSongsCount = document.getElementById('liked-songs-count');
    const playLikedSongs = document.getElementById('play-liked-songs');
    const createPlaylistForm = document.getElementById('create-playlist-form');
    
    const navItems = document.querySelectorAll('.nav-item');
    const playlistItems = document.querySelectorAll('.playlist-item');
    const pages = document.querySelectorAll('.page');
    const sidebar = document.querySelector('.sidebar');
    const filterBtns = document.querySelectorAll('.filter-btn');
    const viewAllBtns = document.querySelectorAll('.view-all');
    const themeToggle = document.querySelector('.theme-toggle');
    const playlistSelectModal = document.getElementById('playlist-select-modal');
    const playlistSelectClose = document.getElementById('playlist-select-close');
    const playlistSelectList = document.getElementById('playlist-select-list');
    const playlistSelectTitle = document.getElementById('playlist-select-title');
    const createNewPlaylistBtn = document.getElementById('create-new-playlist-btn');
    
    // Elementos das novas páginas
    const albumDetailPage = document.getElementById('album-detail-page');
    const albumDetailImage = document.getElementById('album-detail-image');
    const albumDetailTitle = document.getElementById('album-detail-title');
    const albumDetailArtist = document.getElementById('album-detail-artist');
    const albumDetailYear = document.getElementById('album-detail-year');
    const albumDetailSongsCount = document.getElementById('album-detail-songs-count');
    const albumSongsList = document.getElementById('album-songs-list');
    const playAlbumBtn = document.getElementById('play-album');
    const shuffleAlbumBtn = document.getElementById('shuffle-album');
    
    const playlistDetailPage = document.getElementById('playlist-detail-page');
    const playlistDetailImage = document.getElementById('playlist-detail-image');
    const playlistDetailTitle = document.getElementById('playlist-detail-title');
    const playlistDetailDescription = document.getElementById('playlist-detail-description');
    const playlistDetailOwner = document.getElementById('playlist-detail-owner');
    const playlistDetailSongsCount = document.getElementById('playlist-detail-songs-count');
    const playlistDetailSongsList = document.getElementById('playlist-detail-songs-list');
    const playPlaylistDetailBtn = document.getElementById('play-playlist-detail');
    const sortPlaylistDetailBtn = document.getElementById('sort-playlist-detail');

    // Estado da aplicação
    let currentPlaylist = [];
    let currentSongIndex = -1;
    let isPlaying = false;
    let isShuffled = false;
    let isRepeated = false;
    let likedSongs = [];
    let userPlaylists = [...musicData.playlists];
    let currentPage = 'home';
    let queue = [];
    let currentSongForPlaylist = null;
    let currentAlbum = null;
    let currentPlaylistDetail = null;

    // Inicialização
    document.addEventListener('DOMContentLoaded', () => {
      // Configurar event listeners
      setupEventListeners();
      
      // Renderizar conteúdo
      renderFeaturedContent();
      renderRecentAlbums();
      renderPopularArtists();
      
      // Carregar dados do localStorage
      const savedLikedSongs = localStorage.getItem('likedSongs');
      if (savedLikedSongs) {
        likedSongs = JSON.parse(savedLikedSongs);
      }
      
      const savedPlaylists = localStorage.getItem('userPlaylists');
      if (savedPlaylists) {
        userPlaylists = JSON.parse(savedPlaylists);
      }
      
      // Carregar tema salvo
      const savedTheme = localStorage.getItem('theme');
      if (savedTheme === 'light') {
        document.body.classList.add('light-theme');
        updateThemeIcon();
      }
      
      // Configurar player
      audioPlayer.volume = 0.7;
      updateVolumeUI();
      
      // Atualizar contador de músicas curtidas
      updateLikedSongsCount();
      
      // Tocar a música do OneRepublic automaticamente
      const oneRepublicSong = musicData.albums[6].songs[0];
      playSong(oneRepublicSong, musicData.albums[6].songs);
    });

    // Configurar event listeners
    function setupEventListeners() {
      // Controles do player
      playBtn.addEventListener('click', togglePlay);
      prevBtn.addEventListener('click', playPrevSong);
      nextBtn.addEventListener('click', playNextSong);
      shuffleBtn.addEventListener('click', toggleShuffle);
      repeatBtn.addEventListener('click', toggleRepeat);
      likeBtn.addEventListener('click', toggleLike);
      lyricsBtn.addEventListener('click', showLyrics);
      modalClose.addEventListener('click', hideLyrics);
      
      // Barra de progresso
      progressBar.addEventListener('click', seekAudio);
      
      // Controle de volume
      volumeBar.addEventListener('click', adjustVolume);
      volumeBtn.addEventListener('click', toggleMute);
      
      // Navegação
      navItems.forEach(item => {
        item.addEventListener('click', () => {
          const page = item.getAttribute('data-page');
          changePage(page);
        });
      });
      
      playlistItems.forEach(item => {
        item.addEventListener('click', () => {
          const page = item.getAttribute('data-page');
          changePage(page);
        });
      });
      
      // Menu mobile
      menuToggle.addEventListener('click', toggleSidebar);
      
      // Busca
      searchInput.addEventListener('input', handleSearch);
      
      // Filtros
      filterBtns.forEach(btn => {
        btn.addEventListener('click', () => {
          filterBtns.forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
          // Aqui você implementaria a filtragem real
        });
      });
      
      // Botões "Ver tudo"
      viewAllBtns.forEach(btn => {
        btn.addEventListener('click', handleViewAll);
      });
      
      // Botões de ordenação
      document.getElementById('sort-liked-songs').addEventListener('click', () => showSortOptions('liked-songs'));
      document.getElementById('sort-relaxing').addEventListener('click', () => showSortOptions('relaxing'));
      document.getElementById('sort-workout').addEventListener('click', () => showSortOptions('workout'));
      document.getElementById('sort-animes').addEventListener('click', () => showSortOptions('animes'));
      sortPlaylistDetailBtn.addEventListener('click', () => showSortOptions('playlist-detail'));
      
      // Botões de reprodução de playlists
      document.getElementById('play-relaxing').addEventListener('click', () => playPlaylist('playlist2'));
      document.getElementById('play-workout').addEventListener('click', () => playPlaylist('playlist3'));
      document.getElementById('play-animes').addEventListener('click', () => playPlaylist('playlist4'));
      playAlbumBtn.addEventListener('click', playCurrentAlbum);
      shuffleAlbumBtn.addEventListener('click', shuffleCurrentAlbum);
      playPlaylistDetailBtn.addEventListener('click', playCurrentPlaylistDetail);
      
      // Botão de tema
      themeToggle.addEventListener('click', toggleTheme);
      
      // Modal de seleção de playlist
      playlistSelectClose.addEventListener('click', hidePlaylistSelectModal);
      playlistSelectModal.addEventListener('click', (e) => {
        if (e.target === playlistSelectModal) {
          hidePlaylistSelectModal();
        }
      });
      
      createNewPlaylistBtn.addEventListener('click', createNewPlaylistFromModal);
      
      // Eventos do player de áudio
      audioPlayer.addEventListener('timeupdate', updateProgress);
      audioPlayer.addEventListener('ended', handleSongEnd);
      audioPlayer.addEventListener('loadedmetadata', updateTotalTime);
      
      // Fechar modal ao clicar fora
      lyricsModal.addEventListener('click', (e) => {
        if (e.target === lyricsModal) {
          hideLyrics();
        }
      });
      
      // Botão para tocar músicas curtidas
      playLikedSongs.addEventListener('click', playLikedSongsList);
      
      // Formulário de criar playlist
      createPlaylistForm.addEventListener('submit', handleCreatePlaylist);

      // Atalhos de teclado
      document.addEventListener('keydown', (e) => {
        if (e.target.tagName === 'INPUT' || e.target.tagName === 'TEXTAREA') return;
        
        switch (e.key) {
          case ' ':
            e.preventDefault();
            togglePlay();
            break;
          case 'ArrowLeft':
            playPrevSong();
            break;
          case 'ArrowRight':
            playNextSong();
            break;
          case 'm':
            toggleMute();
            break;
        }
      });
    }

    // Função para o botão "Ver tudo"
    function handleViewAll(e) {
      const section = e.target.getAttribute('data-section');
      
      switch(section) {
        case 'featured':
          changePage('albums');
          break;
        case 'recent-albums':
          changePage('albums');
          break;
        case 'popular-artists':
          changePage('artists');
          break;
        default:
          changePage(section);
      }
    }

    // Função para mostrar opções de ordenação
    function showSortOptions(playlistType) {
      const modal = document.createElement('div');
      modal.className = 'modal show';
      modal.innerHTML = `
        <div class="modal-content">
          <button class="modal-close"><i class="fas fa-times"></i></button>
          <h3 class="modal-title">Ordenar por</h3>
          <div class="sort-options">
            <button class="sort-option" data-sort="title">Título</button>
            <button class="sort-option" data-sort="artist">Artista</button>
            <button class="sort-option" data-sort="duration">Duração</button>
            <button class="sort-option" data-sort="date">Data de adição</button>
          </div>
        </div>
      `;
      
      document.body.appendChild(modal);
      
      // Fechar modal
      modal.querySelector('.modal-close').addEventListener('click', () => {
        document.body.removeChild(modal);
      });
      
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          document.body.removeChild(modal);
        }
      });
      
      // Ordenar lista
      modal.querySelectorAll('.sort-option').forEach(option => {
        option.addEventListener('click', (e) => {
          const sortBy = e.target.getAttribute('data-sort');
          sortPlaylist(playlistType, sortBy);
          document.body.removeChild(modal);
        });
      });
    }

    // Função para ordenar a playlist
    function sortPlaylist(playlistType, sortBy) {
      let playlistSongs = [];
      
      // Obter a playlist atual baseada na página
      if (playlistType === 'liked-songs') {
        playlistSongs = getAllSongs().filter(song => likedSongs.includes(song.id));
      } else if (playlistType === 'playlist-detail') {
        playlistSongs = getAllSongs().filter(song => currentPlaylistDetail.songs.includes(song.id));
      } else {
        const playlist = userPlaylists.find(p => p.id === `playlist${playlistType === 'relaxing' ? '2' : playlistType === 'workout' ? '3' : '4'}`);
        playlistSongs = getAllSongs().filter(song => playlist.songs.includes(song.id));
      }
      
      // Aplicar ordenação
      switch(sortBy) {
        case 'title':
          playlistSongs.sort((a, b) => a.title.localeCompare(b.title));
          break;
        case 'artist':
          playlistSongs.sort((a, b) => a.artist.localeCompare(b.artist));
          break;
        case 'duration':
          playlistSongs.sort((a, b) => {
            const aTime = timeToSeconds(a.duration);
            const bTime = timeToSeconds(b.duration);
            return aTime - bTime;
          });
          break;
        case 'date':
          // Para data, assumimos que a ordem atual é a ordem de adição
          // Em uma implementação real, você teria dados de data
          break;
      }
      
      // Renderizar playlist ordenada
      renderSortedPlaylist(playlistType, playlistSongs);
    }

    // Função auxiliar para converter tempo MM:SS em segundos
    function timeToSeconds(timeStr) {
      const parts = timeStr.split(':');
      return parseInt(parts[0]) * 60 + parseInt(parts[1]);
    }

    // Função para renderizar playlist ordenada
    function renderSortedPlaylist(playlistType, songs) {
      let listElement;
      
      switch(playlistType) {
        case 'liked-songs':
          listElement = likedSongsList;
          break;
        case 'relaxing':
          listElement = relaxingSongsList;
          break;
        case 'workout':
          listElement = workoutSongsList;
          break;
        case 'animes':
          listElement = animesSongsList;
          break;
        case 'playlist-detail':
          listElement = playlistDetailSongsList;
          break;
        default:
          return;
      }
      
      listElement.innerHTML = '';
      
      songs.forEach((song, index) => {
        const album = musicData.albums.find(a => a.songs.some(s => s.id === song.id));
        const songItem = createSongItem(song, album?.cover, index + 1);
        listElement.appendChild(songItem);
      });
    }

    // Função para tocar uma playlist
    function playPlaylist(playlistId) {
      const playlist = userPlaylists.find(p => p.id === playlistId);
      if (!playlist || playlist.songs.length === 0) return;
      
      const allSongs = getAllSongs();
      const playlistSongs = allSongs.filter(song => playlist.songs.includes(song.id));
      
      playSong(playlistSongs[0], playlistSongs);
    }

    // Função para tocar o álbum atual
    function playCurrentAlbum() {
      if (!currentAlbum || currentAlbum.songs.length === 0) return;
      playSong(currentAlbum.songs[0], currentAlbum.songs);
    }

    // Função para embaralhar o álbum atual
    function shuffleCurrentAlbum() {
      if (!currentAlbum || currentAlbum.songs.length === 0) return;
      
      // Embaralhar as músicas do álbum
      const shuffledSongs = [...currentAlbum.songs];
      for (let i = shuffledSongs.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffledSongs[i], shuffledSongs[j]] = [shuffledSongs[j], shuffledSongs[i]];
      }
      
      playSong(shuffledSongs[0], shuffledSongs);
    }

    // Função para tocar a playlist atual
    function playCurrentPlaylistDetail() {
      if (!currentPlaylistDetail || currentPlaylistDetail.songs.length === 0) return;
      
      const allSongs = getAllSongs();
      const playlistSongs = allSongs.filter(song => currentPlaylistDetail.songs.includes(song.id));
      
      playSong(playlistSongs[0], playlistSongs);
    }

    // Função para alternar entre temas claro/escuro
    function toggleTheme() {
      document.body.classList.toggle('light-theme');
      
      // Salvar preferência no localStorage
      const isLightTheme = document.body.classList.contains('light-theme');
      localStorage.setItem('theme', isLightTheme ? 'light' : 'dark');
      
      // Atualizar ícone
      updateThemeIcon();
    }

    // Atualizar ícone do tema
    function updateThemeIcon() {
      const themeIcon = themeToggle.querySelector('i');
      if (document.body.classList.contains('light-theme')) {
        themeIcon.className = 'fas fa-sun';
      } else {
        themeIcon.className = 'fas fa-moon';
      }
    }

    // Mostrar modal de seleção de playlist
    function showPlaylistSelectModal(song) {
      currentSongForPlaylist = song;
      playlistSelectTitle.textContent = `Adicionar "${song.title}" a:`;
      
      // Limpar lista atual
      playlistSelectList.innerHTML = '';
      
      // Adicionar playlists à lista
      userPlaylists.forEach(playlist => {
        if (playlist.id !== 'playlist1') { // Não mostrar músicas curtidas
          const playlistItem = document.createElement('div');
          playlistItem.className = 'playlist-select-item';
          playlistItem.innerHTML = `
            <img src="${playlist.image}" alt="${playlist.name}" loading="lazy">
            <div class="playlist-select-info">
              <div class="playlist-select-name">${playlist.name}</div>
              <div class="playlist-select-stats">${playlist.songs.length} músicas</div>
            </div>
          `;
          
          playlistItem.addEventListener('click', () => {
            addSongToPlaylist(song.id, playlist.id);
            hidePlaylistSelectModal();
          });
          
          playlistSelectList.appendChild(playlistItem);
        }
      });
      
      // Mostrar modal
      playlistSelectModal.classList.add('show');
    }

    // Ocultar modal de seleção de playlist
    function hidePlaylistSelectModal() {
      playlistSelectModal.classList.remove('show');
      currentSongForPlaylist = null;
    }

    // Adicionar música à playlist
    function addSongToPlaylist(songId, playlistId) {
      const playlist = userPlaylists.find(p => p.id === playlistId);
      
      if (!playlist) return;
      
      // Verificar se a música já está na playlist
      if (playlist.songs.includes(songId)) {
        alert('Esta música já está na playlist!');
        return;
      }
      
      // Adicionar música à playlist
      playlist.songs.push(songId);
      
      // Salvar no localStorage
      localStorage.setItem('userPlaylists', JSON.stringify(userPlaylists));
      
      alert(`Música adicionada a "${playlist.name}"!`);
    }

    // Criar nova playlist a partir do modal
    function createNewPlaylistFromModal() {
      if (!currentSongForPlaylist) return;
      
      const name = prompt('Digite o nome da nova playlist:');
      if (!name) return;
      
      // Criar nova playlist
      const newPlaylist = {
        id: `playlist-${Date.now()}`,
        name: name,
        description: 'Playlist criada pelo usuário',
        image: 'https://cdn.pixabay.com/photo/2016/11/19/15/34/album-1838783_1280.png',
        songs: [currentSongForPlaylist.id]
      };
      
      // Adicionar à lista de playlists
      userPlaylists.push(newPlaylist);
      
      // Salvar no localStorage
      localStorage.setItem('userPlaylists', JSON.stringify(userPlaylists));
      
      alert(`Playlist "${name}" criada e música adicionada!`);
      hidePlaylistSelectModal();
      
      // Se estamos na página de playlists, atualizar
      if (currentPage === 'playlists') {
        renderPlaylistsPage();
      }
    }

    // Mostrar detalhes do álbum
    function showAlbumDetail(albumId) {
      const album = musicData.albums.find(a => a.id === albumId);
      if (!album) return;
      
      currentAlbum = album;
      
      // Preencher informações do álbum
      albumDetailImage.src = album.cover;
      albumDetailTitle.textContent = album.title;
      albumDetailArtist.textContent = album.artist;
      albumDetailYear.textContent = album.year;
      albumDetailSongsCount.textContent = `${album.songs.length} ${album.songs.length === 1 ? 'música' : 'músicas'}`;
      
      // Limpar lista de músicas
      albumSongsList.innerHTML = '';
      
      // Adicionar músicas do álbum
      album.songs.forEach((song, index) => {
        const songItem = createSongItem(song, album.cover, index + 1);
        albumSongsList.appendChild(songItem);
      });
      
      // Mostrar página de detalhes do álbum
      changePage('album-detail');
    }

    // Mostrar detalhes da playlist
    function showPlaylistDetail(playlistId) {
      const playlist = userPlaylists.find(p => p.id === playlistId);
      if (!playlist) return;
      
      currentPlaylistDetail = playlist;
      
      // Preencher informações da playlist
      playlistDetailImage.src = playlist.image;
      playlistDetailTitle.textContent = playlist.name;
      playlistDetailDescription.textContent = playlist.description;
      playlistDetailOwner.textContent = 'MonkeyVibes';
      playlistDetailSongsCount.textContent = `${playlist.songs.length} ${playlist.songs.length === 1 ? 'música' : 'músicas'}`;
      
      // Limpar lista de músicas
      playlistDetailSongsList.innerHTML = '';
      
      if (playlist.songs.length === 0) {
        playlistDetailSongsList.innerHTML = `
          <div style="text-align: center; padding: 2rem; color: var(--gray-400);">
            <i class="fas fa-music" style="font-size: 3rem; margin-bottom: 1rem; display: block;"></i>
            <h3>Nenhuma música nesta playlist</h3>
            <p>Adicione músicas para começar</p>
          </div>
        `;
        return;
      }
      
      // Adicionar músicas da playlist
      const allSongs = getAllSongs();
      const playlistSongs = allSongs.filter(song => playlist.songs.includes(song.id));
      
      playlistSongs.forEach((song, index) => {
        const album = musicData.albums.find(a => a.songs.some(s => s.id === song.id));
        const songItem = createSongItem(song, album?.cover, index + 1);
        playlistDetailSongsList.appendChild(songItem);
      });
      
      // Mostrar página de detalhes da playlist
      changePage('playlist-detail');
    }

    // Alterar página
    function changePage(pageId) {
      // Atualizar navegação
      navItems.forEach(item => {
        item.classList.toggle('active', item.getAttribute('data-page') === pageId);
      });
      playlistItems.forEach(item => {
        item.classList.toggle('active', item.getAttribute('data-page') === pageId);
      });
      
      // Esconder todas as páginas
      pages.forEach(page => {
        page.classList.remove('active');
      });
      
      // Mostrar página atual
      const currentPageEl = document.getElementById(`${pageId}-page`);
      if (currentPageEl) {
        currentPageEl.classList.add('active');
        currentPage = pageId;
        
        // Carregar conteúdo específico da página
        switch(pageId) {
          case 'search':
            // Não fazer nada, a busca é em tempo real
            break;
          case 'library':
            renderLibraryContent();
            break;
          case 'playlists':
            renderPlaylistsPage();
            break;
          case 'albums':
            renderAlbumsPage();
            break;
          case 'artists':
            renderArtistsPage();
            break;
          case 'liked-songs':
            renderLikedSongsPage();
            break;
          case 'relaxing':
            renderRelaxingPlaylist();
            break;
          case 'workout':
            renderWorkoutPlaylist();
            break;
          case 'animes':
            renderAnimesPlaylist();
            break;
          case 'album-detail':
            // Já está renderizado
            break;
          case 'playlist-detail':
            // Já está renderizado
            break;
          case 'create-playlist':
            // Já está renderizado
            break;
        }
      }
      
      // Fechar sidebar no mobile
      if (window.innerWidth <= 768) {
        sidebar.classList.remove('open');
      }
    }

    // Renderizar conteúdo destacado
    function renderFeaturedContent() {
      featuredContent.innerHTML = '';
      
      musicData.albums.slice(0, 6).forEach(album => {
        const card = createAlbumCard(album);
        featuredContent.appendChild(card);
      });
    }

    // Renderizar álbuns recentes
    function renderRecentAlbums() {
      recentAlbums.innerHTML = '';
      
      // Ordenar álbuns de forma aleatória para simular "recentes"
      const shuffledAlbums = [...musicData.albums].sort(() => Math.random() - 0.5);
      
      shuffledAlbums.slice(0, 4).forEach(album => {
        const card = createAlbumCard(album);
        recentAlbums.appendChild(card);
      });
    }

    // Renderizar artistas populares
    function renderPopularArtists() {
      popularArtists.innerHTML = '';
      
      musicData.artists.forEach(artist => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <img src="${artist.image}" alt="${artist.name}" class="card-img" loading="lazy">
          <div class="card-content">
            <div class
             <div class="card-title">${artist.name}</div>
            <div class="card-subtitle">${artist.followers} seguidores</div>
          </div>
        `;
        
        popularArtists.appendChild(card);
      });
    }

    // Criar card de álbum
    function createAlbumCard(album) {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <img src="${album.cover}" alt="Capa do álbum ${album.title} de ${album.artist}" class="card-img" loading="lazy">
        <div class="card-content">
          <div class="card-title">${album.title}</div>
          <div class="card-subtitle">${album.artist}</div>
        </div>
      `;
      
      card.addEventListener('click', () => {
        showAlbumDetail(album.id);
      });
      
      return card;
    }

    // Criar card de playlist
    function createPlaylistCard(playlist) {
      const card = document.createElement('div');
      card.className = 'card';
      card.innerHTML = `
        <img src="${playlist.image}" alt="${playlist.name}" class="card-img" loading="lazy">
        <div class="card-content">
          <div class="card-title">${playlist.name}</div>
          <div class="card-subtitle">Playlist • ${playlist.songs.length} músicas</div>
        </div>
      `;
      
      card.addEventListener('click', () => {
        showPlaylistDetail(playlist.id);
      });
      
      return card;
    }

    // Renderizar conteúdo da biblioteca
    function renderLibraryContent() {
      libraryContent.innerHTML = '';
      
      // Mostrar playlists, álbuns e artistas (simulação)
      userPlaylists.forEach(playlist => {
        const card = createPlaylistCard(playlist);
        libraryContent.appendChild(card);
      });
    }

    // Renderizar página de playlists
    function renderPlaylistsPage() {
      playlistsContent.innerHTML = '';
      
      userPlaylists.forEach(playlist => {
        const card = createPlaylistCard(playlist);
        playlistsContent.appendChild(card);
      });
    }

    // Renderizar página de álbuns
    function renderAlbumsPage() {
      albumsContent.innerHTML = '';
      
      musicData.albums.forEach(album => {
        const card = createAlbumCard(album);
        albumsContent.appendChild(card);
      });
    }

    // Renderizar página de artistas
    function renderArtistsPage() {
      artistsContent.innerHTML = '';
      
      musicData.artists.forEach(artist => {
        const card = document.createElement('div');
        card.className = 'card';
        card.innerHTML = `
          <img src="${artist.image}" alt="${artist.name}" class="card-img" loading="lazy">
          <div class="card-content">
            <div class="card-title">${artist.name}</div>
            <div class="card-subtitle">${artist.followers} seguidores</div>
          </div>
        `;
        
        artistsContent.appendChild(card);
      });
    }

    // Renderizar página de músicas curtidas
    function renderLikedSongsPage() {
      likedSongsList.innerHTML = '';
      
      if (likedSongs.length === 0) {
        likedSongsList.innerHTML = `
          <div style="text-align: center; padding: 2rem; color: var(--gray-400);">
            <i class="fas fa-heart" style="font-size: 3rem; margin-bottom: 1rem; display: block;"></i>
            <h3>Você ainda não curtiu nenhuma música</h3>
            <p>As músicas que você curtir aparecerão aqui</p>
          </div>
        `;
        return;
      }
      
      // Encontrar todas as músicas curtidas
      const allSongs = getAllSongs();
      const likedSongsData = allSongs.filter(song => likedSongs.includes(song.id));
      
      likedSongsData.forEach((song, index) => {
        const album = musicData.albums.find(a => a.songs.some(s => s.id === song.id));
        const songItem = createSongItem(song, album?.cover, index + 1);
        likedSongsList.appendChild(songItem);
      });
    }

    // Renderizar playlist Para Relaxar
    function renderRelaxingPlaylist() {
      relaxingSongsList.innerHTML = '';
      
      const relaxingPlaylist = userPlaylists.find(p => p.id === 'playlist2');
      if (!relaxingPlaylist || relaxingPlaylist.songs.length === 0) {
        relaxingSongsList.innerHTML = `
          <div style="text-align: center; padding: 2rem; color: var(--gray-400);">
            <i class="fas fa-heart" style="font-size: 3rem; margin-bottom: 1rem; display: block;"></i>
            <h3>Nenhuma música nesta playlist</h3>
          </div>
        `;
        return;
      }
      
      // Encontrar todas as músicas da playlist
      const allSongs = getAllSongs();
      const playlistSongs = allSongs.filter(song => relaxingPlaylist.songs.includes(song.id));
      
      playlistSongs.forEach((song, index) => {
        const album = musicData.albums.find(a => a.songs.some(s => s.id === song.id));
        const songItem = createSongItem(song, album?.cover, index + 1);
        relaxingSongsList.appendChild(songItem);
      });
    }

    // Renderizar playlist Treino Energético
    function renderWorkoutPlaylist() {
      workoutSongsList.innerHTML = '';
      
      const workoutPlaylist = userPlaylists.find(p => p.id === 'playlist3');
      if (!workoutPlaylist || workoutPlaylist.songs.length === 0) {
        workoutSongsList.innerHTML = `
          <div style="text-align: center; padding: 2rem; color: var(--gray-400);">
            <i class="fas fa-fire" style="font-size: 3rem; margin-bottom: 1rem; display: block;"></i>
            <h3>Nenhuma música nesta playlist</h3>
          </div>
        `;
        return;
      }
      
      // Encontrar todas as músicas da playlist
      const allSongs = getAllSongs();
      const playlistSongs = allSongs.filter(song => workoutPlaylist.songs.includes(song.id));
      
      playlistSongs.forEach((song, index) => {
        const album = musicData.albums.find(a => a.songs.some(s => s.id === song.id));
        const songItem = createSongItem(song, album?.cover, index + 1);
        workoutSongsList.appendChild(songItem);
      });
    }

    // Renderizar playlist Animes
    function renderAnimesPlaylist() {
      animesSongsList.innerHTML = '';
      
      const animesPlaylist = userPlaylists.find(p => p.id === 'playlist4');
      if (!animesPlaylist || animesPlaylist.songs.length === 0) {
        animesSongsList.innerHTML = `
          <div style="text-align: center; padding: 2rem; color: var(--gray-400);">
            <i class="fas fa-play-circle" style="font-size: 3rem; margin-bottom: 1rem; display: block;"></i>
            <h3>Nenhuma música nesta playlist</h3>
          </div>
        `;
        return;
      }
      
      // Encontrar todas as músicas da playlist
      const allSongs = getAllSongs();
      const playlistSongs = allSongs.filter(song => animesPlaylist.songs.includes(song.id));
      
      playlistSongs.forEach((song, index) => {
        const album = musicData.albums.find(a => a.songs.some(s => s.id === song.id));
        const songItem = createSongItem(song, album?.cover, index + 1);
        animesSongsList.appendChild(songItem);
      });
    }

    // Criar item de música para lista
    function createSongItem(song, cover, trackNumber) {
      const songItem = document.createElement('div');
      songItem.className = 'song-item';
      
      songItem.innerHTML = `
        <div style="min-width: 30px; text-align: center; color: var(--gray-400);">${trackNumber}</div>
        <img src="${cover || 'https://cdn.pixabay.com/photo/2016/11/19/15/34/album-1838783_1280.png'}" alt="Capa de ${song.title}" loading="lazy">
        <div class="song-details">
          <div class="song-name">${song.title}</div>
          <div class="song-artist">${song.artist}</div>
        </div>
        <div class="song-duration">${song.duration}</div>
        <div class="song-actions">
          <button class="song-btn like-btn" data-song-id="${song.id}">
            <i class="${likedSongs.includes(song.id) ? 'fas' : 'far'} fa-heart"></i>
          </button>
          <button class="song-btn playlist-btn" data-song-id="${song.id}">
            <i class="fas fa-list"></i>
          </button>
          <button class="song-btn queue-btn" data-song-id="${song.id}">
            <i class="fas fa-plus-circle"></i>
          </button>
        </div>
      `;
      
      songItem.addEventListener('click', () => {
        // Determinar a playlist atual com base na página
        let playlist = [];
        if (currentPage === 'liked-songs') {
          playlist = getAllSongs().filter(s => likedSongs.includes(s.id));
        } else if (currentPage === 'relaxing') {
          const relaxingPlaylist = userPlaylists.find(p => p.id === 'playlist2');
          playlist = getAllSongs().filter(s => relaxingPlaylist.songs.includes(s.id));
        } else if (currentPage === 'workout') {
          const workoutPlaylist = userPlaylists.find(p => p.id === 'playlist3');
          playlist = getAllSongs().filter(s => workoutPlaylist.songs.includes(s.id));
        } else if (currentPage === 'animes') {
          const animesPlaylist = userPlaylists.find(p => p.id === 'playlist4');
          playlist = getAllSongs().filter(s => animesPlaylist.songs.includes(s.id));
        } else if (currentPage === 'album-detail' && currentAlbum) {
          playlist = currentAlbum.songs;
        } else if (currentPage === 'playlist-detail' && currentPlaylistDetail) {
          const allSongs = getAllSongs();
          playlist = allSongs.filter(s => currentPlaylistDetail.songs.includes(s.id));
        }    
        playSong(song, playlist);
      });
      
      // Event listener para o botão de like
      const likeButton = songItem.querySelector('.like-btn');
      likeButton.addEventListener('click', (e) => {
        e.stopPropagation();
        toggleSongLike(song.id);
        
        // Atualizar ícone
        const icon = likeButton.querySelector('i');
        if (likedSongs.includes(song.id)) {
          icon.className = 'fas fa-heart';
          likeButton.style.color = 'var(--success)';
        } else {
          icon.className = 'far fa-heart';
          likeButton.style.color = '';
        }
        
        // Se estamos na página de músicas curtidas, atualizar a lista
        if (currentPage === 'liked-songs') {
          renderLikedSongsPage();
        }
      });
      
      // Event listener para o botão de adicionar à playlist
      const playlistButton = songItem.querySelector('.playlist-btn');
      playlistButton.addEventListener('click', (e) => {
        e.stopPropagation();
        showPlaylistSelectModal(song);
      });
      
      songItem.querySelector('.queue-btn').addEventListener('click', (e) => {
        e.stopPropagation();
        addToQueue(song);
      });
      
      return songItem;
    }

    // Obter todas as músicas de todos os álbuns
    function getAllSongs() {
      return musicData.albums.flatMap(album => album.songs);
    }

    // Tocar música
    function playSong(song, playlist = null) {
      try {
        if (!song || !song.file) throw new Error('Música inválida ou sem arquivo de áudio');
        
        if (playlist) {
          currentPlaylist = playlist;
          currentSongIndex = playlist.findIndex(s => s.id === song.id);
        } else {
          currentPlaylist = [song];
          currentSongIndex = 0;
        }
        
        audioPlayer.src = song.file;
        audioPlayer.dataset.lyrics = Array.isArray(song.lyrics) ? '' : song.lyrics;
        audioPlayer.play()
          .then(() => {
            isPlaying = true;
            updatePlayButton();
          })
        
        const album = musicData.albums.find(a => a.songs.some(s => s.id === song.id));
        playerImg.src = album?.cover || 'https://cdn.pixabay.com/photo/2016/11/19/15/34/album-1838783_1280.png';
        playerTitle.textContent = song.title;
        playerArtist.textContent = song.artist;
        
        updateLikeButton(song.id);
      } catch (error) {
        console.error('Erro ao tocar música:', error);
        alert('Ocorreu um erro ao tentar tocar a música.');
      }
    }

    // Adicionar à fila
    function addToQueue(song) {
      queue.push(song);
      alert(`"${song.title}" adicionado à fila de reprodução`);
      // Atualizar UI da fila (pode ser um novo elemento no player)
    }

    // Tocar músicas curtidas
    function playLikedSongsList() {
      if (likedSongs.length === 0) return;
      
      const allSongs = getAllSongs();
      const likedSongsData = allSongs.filter(song => likedSongs.includes(song.id));
      
      playSong(likedSongsData[0], likedSongsData);
    }

    // Alternar entre play and pause
    function togglePlay() {
      if (audioPlayer.paused) {
        audioPlayer.play();
        isPlaying = true;
      } else {
        audioPlayer.pause();
        isPlaying = false;
      }
      updatePlayButton();
    }

    // Atualizar ícone do botão play/pause
    function updatePlayButton() {
      const icon = playBtn.querySelector('i');
      if (isPlaying) {
        icon.className = 'fas fa-pause';
      } else {
        icon.className = 'fas fa-play';
      }
    }

    // Tocar música anterior
    function playPrevSong() {
      if (currentPlaylist.length === 0) return;
      
      currentSongIndex--;
      if (currentSongIndex < 0) {
        currentSongIndex = currentPlaylist.length - 1;
      }
      
      const song = currentPlaylist[currentSongIndex];
      playSong(song, currentPlaylist);
    }

    // Tocar próxima música
    function playNextSong() {
      if (queue.length > 0) {
        const nextSong = queue.shift();
        playSong(nextSong, currentPlaylist);
        return;
      }
      if (currentPlaylist.length === 0) return;
      currentSongIndex++;
      if (currentSongIndex >= currentPlaylist.length) {
        currentSongIndex = 0;
      }
      const song = currentPlaylist[currentSongIndex];
      playSong(song, currentPlaylist);
    }

    // Manipular fim da música
    function handleSongEnd() {
      if (isRepeated) {
        audioPlayer.currentTime = 0;
        audioPlayer.play();
      } else {
        playNextSong();
      }
    }

    // Alternar shuffle
    function toggleShuffle() {
      isShuffled = !isShuffled;
      shuffleBtn.style.color = isShuffled ? 'var(--primary)' : '';
      
      if (isShuffled && currentPlaylist.length > 0) {
        // Embaralhar a playlist atual (mantendo a música atual na primeira posição)
        const currentSong = currentPlaylist[currentSongIndex];
        const shuffledPlaylist = [...currentPlaylist];
        shuffledPlaylist.splice(currentSongIndex, 1);
        
        for (let i = shuffledPlaylist.length - 1; i > 0; i--) {
          const j = Math.floor(Math.random() * (i + 1));
          [shuffledPlaylist[i], shuffledPlaylist[j]] = [shuffledPlaylist[j], shuffledPlaylist[i]];
        }
        
        shuffledPlaylist.unshift(currentSong);
        currentPlaylist = shuffledPlaylist;
        currentSongIndex = 0;
      }
    }

    // Alternar repeat
    function toggleRepeat() {
      isRepeated = !isRepeated;
      repeatBtn.style.color = isRepeated ? 'var(--primary)' : '';
    }

    // Alternar like da música atual
    function toggleLike() {
      if (currentSongIndex === -1) return;
      
      const currentSong = currentPlaylist[currentSongIndex];
      toggleSongLike(currentSong.id);
    }

    // Alternar like de uma música específica
    function toggleSongLike(songId) {
      const index = likedSongs.indexOf(songId);
      if (index === -1) {
        likedSongs.push(songId);
      } else {
        likedSongs.splice(index, 1);
      }
      
      // Salvar no localStorage
      localStorage.setItem('likedSongs', JSON.stringify(likedSongs));
      
      updateLikeButton(songId);
      updateLikedSongsCount();
      
      // Se estamos na página de músicas curtidas, atualizar a lista
      if (currentPage === 'liked-songs') {
        renderLikedSongsPage();
      }
    }

    // Atualizar botão de like
    function updateLikeButton(songId) {
      const icon = likeBtn.querySelector('i');
      if (likedSongs.includes(songId)) {
        icon.className = 'fas fa-heart';
        likeBtn.style.color = 'var(--success)';
      } else {
        icon.className = 'far fa-heart';
        likeBtn.style.color = '';
      }
    }

    // Atualizar contador de músicas curtidas
    function updateLikedSongsCount() {
      likedSongsCount.textContent = `${likedSongs.length} ${likedSongs.length === 1 ? 'música' : 'músicas'}`;
    }

    // Mostrar letras
    function showLyrics() {
      if (currentSongIndex === -1) {
        lyricsTitle.textContent = 'Letra não disponível';
        lyricsText.textContent = 'Selecione uma música com letra disponível';
        lyricsModal.classList.add('show');
        return;
      }
      
      const currentSong = currentPlaylist[currentSongIndex];
      lyricsTitle.textContent = `${currentSong.title} - ${currentSong.artist}`;
      
      if (Array.isArray(currentSong.lyrics)) {
        lyricsText.innerHTML = currentSong.lyrics.map(line => `<p data-time="${line.time}">${line.text}</p>`).join('');
        lyricsModal.classList.add('show');
        
        // Sincronizar letras
        audioPlayer.addEventListener('timeupdate', syncLyrics);
      } else {
        lyricsText.textContent = currentSong.lyrics || 'Letra não disponível';
        lyricsModal.classList.add('show');
      }
    }

    // Ocultar letras
    function hideLyrics() {
      lyricsModal.classList.remove('show');
      audioPlayer.removeEventListener('timeupdate', syncLyrics);
    }

    // Sincronizar letras
    function syncLyrics() {
      const currentSong = currentPlaylist[currentSongIndex];
      if (!Array.isArray(currentSong.lyrics)) return;
      
      const currentTime = audioPlayer.currentTime;
      const lyricsLines = lyricsText.querySelectorAll('p');
      
      lyricsLines.forEach(line => {
        const time = parseFloat(line.getAttribute('data-time'));
        if (currentTime >= time && currentTime < time + 5) {
          line.style.color = 'var(--primary)';
          line.scrollIntoView({ behavior: 'smooth', block: 'center' });
        } else {
          line.style.color = '';
        }
      });
    }

    // Atualizar barra de progresso
    function updateProgress() {
      if (!audioPlayer.duration) return;
      
      const percent = (audioPlayer.currentTime / audioPlayer.duration) * 100;
      progressFill.style.width = `${percent}%`;
      
      // Atualizar tempo atual
      currentTimeEl.textContent = formatTime(audioPlayer.currentTime);
    }

    // Atualizar tempo total
    function updateTotalTime() {
      totalTimeEl.textContent = formatTime(audioPlayer.duration);
    }

    // Formatar tempo (segundos para MM:SS)
    function formatTime(seconds) {
      const mins = Math.floor(seconds / 60);
      const secs = Math.floor(seconds % 60);
      return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
    }

    // Buscar na barra de progresso
    function seekAudio(e) {
      if (!audioPlayer.duration) return;
      
      const progressBarWidth = progressBar.offsetWidth;
      const clickX = e.offsetX;
      const percent = clickX / progressBarWidth;
      
      audioPlayer.currentTime = percent * audioPlayer.duration;
    }

    // Ajustar volume
    function adjustVolume(e) {
      const volumeBarWidth = volumeBar.offsetWidth;
      const clickX = e.offsetX;
      const volume = clickX / volumeBarWidth;
      
      audioPlayer.volume = volume;
      updateVolumeUI();
    }

    // Alternar mudo
    function toggleMute() {
      audioPlayer.muted = !audioPlayer.muted;
      updateVolumeUI();
    }

    // Atualizar UI do volume
    function updateVolumeUI() {
      const volume = audioPlayer.volume;
      volumeFill.style.width = `${volume * 100}%`;
      
      const icon = volumeBtn.querySelector('i');
      if (audioPlayer.muted || volume === 0) {
        icon.className = 'fas fa-volume-mute';
      } else if (volume < 0.5) {
        icon.className = 'fas fa-volume-down';
      } else {
        icon.className = 'fas fa-volume-up';
      }
    }

    // Manipular busca
    function handleSearch() {
      const query = searchInput.value.toLowerCase().trim();
      
      if (query.length < 2) {
        // Limpar resultados se a query for muito curta
        searchResults.innerHTML = '';
        searchArtists.innerHTML = '';
        return;
      }
      
      // Buscar álbuns
      const albumResults = musicData.albums.filter(album => 
        album.title.toLowerCase().includes(query) || 
        album.artist.toLowerCase().includes(query)
      );
      
      // Buscar artistas
      const artistResults = musicData.artists.filter(artist => 
        artist.name.toLowerCase().includes(query)
      );
      
      // Renderizar resultados de álbuns
      searchResults.innerHTML = '';
      if (albumResults.length > 0) {
        albumResults.forEach(album => {
          const card = createAlbumCard(album);
          searchResults.appendChild(card);
        });
      } else {
        searchResults.innerHTML = '<p style="color: var(--gray-400); padding: 1rem;">Nenhum álbum encontrado</p>';
      }
      
      // Renderizar resultados de artistas
      searchArtists.innerHTML = '';
      if (artistResults.length > 0) {
        artistResults.forEach(artist => {
          const card = document.createElement('div');
          card.className = 'card';
          card.innerHTML = `
            <img src="${artist.image}" alt="${artist.name}" class="card-img" loading="lazy">
            <div class="card-content">
              <div class="card-title">${artist.name}</div>
              <div class="card-subtitle">${artist.followers} seguidores</div>
            </div>
          `;
          searchArtists.appendChild(card);
        });
      }
    }

    // Alternar sidebar (mobile)
    function toggleSidebar() {
      sidebar.classList.toggle('open');
    }

    // Manipular criação de playlist
    function handleCreatePlaylist(e) {
      e.preventDefault();
      
      const nameInput = document.getElementById('playlist-name');
      const descriptionInput = document.getElementById('playlist-description');
      
      const name = nameInput.value.trim();
      const description = descriptionInput.value.trim();
      
      if (!name) {
        alert('Por favor, digite um nome para a playlist');
        return;
      }
      
      // Criar nova playlist
      const newPlaylist = {
        id: `playlist-${Date.now()}`,
        name: name,
        description: description || 'Playlist criada pelo usuário',
        image: 'https://cdn.pixabay.com/photo/2016/11/19/15/34/album-1838783_1280.png',
        songs: []
      };
      
      // Adicionar à lista de playlists
      userPlaylists.push(newPlaylist);
      
      // Salvar no localStorage
      localStorage.setItem('userPlaylists', JSON.stringify(userPlaylists));
      
      // Limpar formulário
      nameInput.value = '';
      descriptionInput.value = '';
      
      // Mostrar mensagem de sucesso
      alert(`Playlist "${name}" criada com sucesso!`);
      
      // Redirecionar para a página de playlists
      changePage('playlists');
    }

    // Editar playlist
    function editPlaylist(playlistId) {
      const playlist = userPlaylists.find(p => p.id === playlistId);
      if (!playlist) return;
      
      const modal = document.createElement('div');
      modal.className = 'modal show';
      modal.innerHTML = `
        <div class="modal-content">
          <button class="modal-close" id="edit-playlist-close"><i class="fas fa-times"></i></button>
          <h3 class="modal-title">Editar Playlist</h3>
          <form id="edit-playlist-form">
            <div style="margin-bottom: 1.5rem;">
              <label for="edit-playlist-name" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Nome da Playlist</label>
              <input type="text" id="edit-playlist-name" class="search-input" value="${playlist.name}" style="width: 100%;">
            </div>
            <div style="margin-bottom: 1.5rem;">
              <label for="edit-playlist-description" style="display: block; margin-bottom: 0.5rem; font-weight: 500;">Descrição</label>
              <textarea id="edit-playlist-description" class="search-input" rows="3" style="width: 100%; resize: vertical;">${playlist.description}</textarea>
            </div>
            <button type="submit
                          <textarea id="edit-playlist-description" class="search-input" rows="3" style="width: 100%; resize: vertical;">${playlist.description}</textarea>
            </div>
            <button type="submit" class="btn" style="width: 100%;">Salvar Alterações</button>
          </form>
        </div>
      `;
      document.body.appendChild(modal);
      
      modal.querySelector('#edit-playlist-form').addEventListener('submit', (e) => {
        e.preventDefault();
        playlist.name = document.getElementById('edit-playlist-name').value.trim();
        playlist.description = document.getElementById('edit-playlist-description').value.trim();
        localStorage.setItem('userPlaylists', JSON.stringify(userPlaylists));
        document.body.removeChild(modal);
        if (currentPage === 'playlists') renderPlaylistsPage();
        alert('Playlist atualizada com sucesso!');
      });
      
      modal.querySelector('#edit-playlist-close').addEventListener('click', () => {
        document.body.removeChild(modal);
      });
      modal.addEventListener('click', (e) => {
        if (e.target === modal) document.body.removeChild(modal);
      });
    }
  </script>
</body>
</html>